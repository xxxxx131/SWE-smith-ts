{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"docs/","title":"Index","text":""},{"location":"getting_started/","title":"SWE-smith","text":""},{"location":"getting_started/#swe-smith","title":"SWE-smith","text":"<p>SWE-smith is toolkit for training Software Engineering (SWE) agents. With SWE-smith, you can:</p> <p>Check out the installation guide to get started, then head over to the tutorials to learn about how to use SWE-smith.</p> <p>If you use SWE-smith in your work, we'd greatly appreciate a citation:</p> <pre><code>@misc{yang2025swesmith,\n  title={SWE-smith: Scaling Data for Software Engineering Agents}, \n  author={John Yang and Kilian Lieret and Carlos E. Jimenez and Alexander Wettig and Kabir Khandpur and Yanzhe Zhang and Binyuan Hui and Ofir Press and Ludwig Schmidt and Diyi Yang},\n  year={2025},\n  eprint={2504.21798},\n  archivePrefix={arXiv},\n  primaryClass={cs.SE},\n  url={https://arxiv.org/abs/2504.21798},\n}\n</code></pre>"},{"location":"getting_started/assets/","title":"Assets","text":""},{"location":"getting_started/assets/#assets","title":"Assets","text":"<p>In addition to the paper and codebase, we release the following assets created with SWE-smith:</p> <ol> <li> <p>Environments for 128 GitHub repositories. You can download the environments (Docker images) locally by running the following command from the root directory of SWE-smith: </p><pre><code>python swesmith/build_repo/download_images.py\n</code></pre><p></p> </li> <li> <p>SWE-smith dataset of 50k+ task instances, made available as a HuggingFace dataset.</p> </li> <li> <p>5k expert trajectories + SWE-agent-LM-32B. To create <code>SWE-agent-LM-32B</code>, we fine-tuned Qwen 2.5 Coder Instruct 32B on the 5k trajectories. <code>SWE-agent-LM-32B</code> achieves 40.2% pass@1 on SWE-bench Verified. The trajectories are uploaded to a HuggingFace dataset. We also release the 32B and 7B versions of the model.</p> </li> <li> <p>SWE-Rater-32B, a Qwen 2.5 Coder Instruct 32B model fine-tuned on human annotated ratings of a SWE-bench task instance's difficulty. We release it as a HuggingFace model.</p> </li> </ol>"},{"location":"getting_started/installation/","title":"Installation","text":""},{"location":"getting_started/installation/#installation","title":"Installation","text":"<p>For the latest stable release</p> <pre><code>pip install swesmith\n</code></pre> <p>For the latest development version</p> <pre><code>git clone https://github.com/SWE-bench/SWE-smith\ncd SWE-smith\n./setup.sh\n</code></pre> <p>If you plan to contribute to SWE-smith, please also perform:</p> <pre><code>pre-commit install\n</code></pre>"},{"location":"getting_started/quickstart/","title":"Quickstart","text":"<p>We recommend checking out the tutorials for comprehensive guidance on SWE-smith usage.</p> <p>However, if you learn more easily by playing with the code, here's sequences of scripts corresponding to different SWE-smith workflows. If you run into issues, please consult the tutorials first, then open an issue if you can't find a solution.</p>"},{"location":"getting_started/quickstart/#creating-task-instances","title":"Creating Task Instances","text":"<pre><code># Run LM rewrite strategy to produce bugs\npython -m swesmith.bug_gen.llm.modify pandas-dev__pandas.95280573 \\\n    --config_file configs/bug_gen/lm_modify.yml \\\n    --model claude-3-7-sonnet-20250219 \\\n    --n_bugs 1 \\\n    --n_workers=20\n\n# Collect all task instances into a single file for validation\npython -m swesmith.bug_gen.collect_patches logs/bug_gen/pandas-dev__pandas.95280573/\n\n# Run validation on the collected task instances\npython -m swesmith.harness.valid logs/bug_gen/pandas-dev__pandas.95280573_all_patches.json --workers 8\n\n# Gather valid task instances\npython -m swesmith.harness.gather logs/run_validation/pandas_test\n\n# Generate issues for the valid task instances\npython -m swesmith.issue_gen.generate \\\n    --dataset_path logs/run_validation/basic/pandas_test.json \\\n  --model claude-3-7-sonnet-20250219 \\\n  --n_workers=1 \\\n  --config_file configs/issue_gen/ig_v2.yaml \\\n  --experiment_id ig_v2\n</code></pre> <p>Next steps</p> <p>We provide detailed tutorials on each of these steps.</p>"},{"location":"guides/","title":"Tutorials","text":""},{"location":"guides/#tutorials","title":"Tutorials","text":"<p>Build unlimited training data and train state-of-the-art SWE-agents. This guide covers the complete workflow: from environment setup to model training and evaluation.</p>"},{"location":"guides/#prerequisites","title":"\ud83d\udccb Prerequisites","text":"<p>System Requirements</p> <p>Required: Docker Tested on: Ubuntu 22.04.4 LTS Not supported: Windows, macOS</p> <p>New to SWE-smith? Start with Installation and Quickstart.</p>"},{"location":"guides/#quick-navigation","title":"\ud83c\udfaf Quick Navigation","text":"<ul> <li> <p> Build Environments</p> <p>Create reproducible Docker images for any repository. Capture dependencies, build containers, and validate with automated testing.</p> <p> Get started</p> </li> <li> <p> Create Instances</p> <p>Generate task instances using LM prompts, procedural modifications, PR mirroring, or combined techniques. Scale to thousands of bugs.</p> <p> Generate bugs</p> </li> <li> <p> Validate &amp; Evaluate</p> <p>Filter candidates that break tests and verify proposed solutions. Built-in harnesses for validation and evaluation workflows.</p> <p> Run harnesses</p> </li> <li> <p> Generate Issue Text</p> <p>Add natural language problem statements to task instances using LM generation or alternative methods.</p> <p> Create issues</p> </li> <li> <p> Rate Difficulty \u00b7 Optional</p> <p>Classify tasks as easy/medium/hard using a fine-tuned Qwen 2.5 Coder model. Compare against SWE-bench benchmarks.</p> <p> Assess difficulty</p> </li> <li> <p> Train SWE-agents</p> <p>Complete RSFT pipeline: generate trajectories, filter successful solutions, fine-tune models, and evaluate on SWE-bench.</p> <p> Start training</p> </li> </ul>"},{"location":"guides/#recommended-workflow","title":"Recommended Workflow","text":"<pre><code>graph LR\n    A[Build Environments] --&gt; B[Create Instances]\n    B --&gt; C[Validate &amp; Evaluate]\n    C --&gt; D[Generate Issue Text]\n    D --&gt; E[Rate Difficulty]\n    D --&gt; F[Train SWE-agents]\n    E --&gt; F</code></pre> <ol> <li>Build Environments \u2192 Set up Docker images</li> <li>Create Instances \u2192 Generate synthetic bugs</li> <li>Validate &amp; Evaluate \u2192 Filter valid task instances</li> <li>Generate Issue Text \u2192 Add problem descriptions</li> <li>Rate Difficulty (optional) \u2192 Classify task complexity</li> <li>Train SWE-agents \u2192 Fine-tune models with RSFT</li> </ol>"},{"location":"guides/create_instances/","title":"Create Instances","text":"<p>You should now have an environment (Docker image) of a repository. Let's synthesize some task instances.</p> <p>Task instances are modified versions of the codebase which break existing tests. The formulation for these task instances is identical to the definition put forth by SWE-bench.</p> <p>Bugs and task instances</p> <p>The terms \"bug\" and \"task instance\" are used interchangeably in this documentation. They refer to the same thing.</p> <p>We design each method with the following principles in mind:</p> <ul> <li>Generalizability: These methods work for any Python repository.</li> <li>Scalability: These methods require little to no manual intervention.</li> <li>Diversity: These methods generate a diverse set of bugs.</li> </ul> <p>As input, each method takes in the name of a GitHub repository, along with method-specific flags.</p> <p>As output, each method produces artifacts under <code>logs/bug_gen/&lt;repo&gt;</code>. A candidate task instance is usually represented as two files:</p> <ol> <li>A <code>bug__&lt;bug_type&gt;__&lt;hash&gt;.diff</code> file that, when applied to the repository, introduces a bug.</li> <li>A <code>metadata__&lt;bug_type&gt;__&lt;hash&gt;.json</code> file containing metadata about how the task instance was created.</li> </ol> <p>The <code>bug_*.diff</code> files are the candidate task instances. The <code>&lt;hash&gt;</code> is computed over the contents of the <code>bug__&lt;bug_type&gt;__&lt;hash&gt;.diff</code> file. The <code>metadata_*.json</code> files are created for statistical and analytical purposes.</p>"},{"location":"guides/create_instances/#lm-generated","title":"LM Generated","text":"<p>How does it work?</p> <p>We first identify all unique programmatic entities (e.g., classes, functions) in a repository. Per entity, we prompt a language model to either:</p> <ul> <li>Modify the entity such that a bug is introduced (a.k.a. LM Modify) or</li> <li>Rewrite the entity from scratch (a.k.a. LM Rewrite).</li> </ul> <p>How do I run it? To prompt an LM to modify a function to introduce a bug: </p><pre><code>python -m swesmith.bug_gen.llm.modify $repo \\\n  --n_bugs 1 \\\n  --model openai/gpt-4o \\\n  --config_file configs/bug_gen/lm_modify.yml\n</code></pre><p></p> <p>To prompt an LM to rewrite a function from scratch: </p><pre><code>python -m swesmith.bug_gen.llm.rewrite $repo \\\n  --model anthropic/claude-3-7-sonnet-20250219 \\\n  --config_file configs/bug_gen/lm_rewrite.yml \\\n  --n_workers 1\n</code></pre><p></p> <p>What artifact(s) does it produce? Under <code>logs/bug_gen/&lt;repo&gt;</code>, you will find a 2 dimensional folder structure.</p> <ul> <li>The first dimension corresponds to a file path in that repository (e.g., <code>&lt;repo&gt;__src__utils__rule_utils.py</code>, which would correspond to <code>src/utils/rule_utils.py</code>).</li> <li>The second dimension corresponds to individual functions or classes in that file.</li> </ul> <p>Under each of these folders, you will see:</p> <ul> <li>For LM Modify, <code>bug__lm_modify__&lt;hash&gt;.diff</code> + <code>metadata__lm_modify__&lt;hash&gt;.json</code> files</li> <li>For LM Rewrite, <code>bug__lm_rewrite__&lt;hash&gt;.diff</code> + <code>metadata__lm_rewrite__&lt;hash&gt;.json</code> files</li> </ul>"},{"location":"guides/create_instances/#procedural-modification","title":"Procedural Modification","text":"<p>How does it work?</p> <p>Similar to LM Generated bugs, we first identify all unique programmatic entities in a repository. Next, we convert every entity into an <code>ast</code> (Abstract Syntax Tree) object.</p> <p>We then modify the AST. For each programmatic entity, we check whether it satisfies a set of criteria that checks whether the entity can be modified in a certain way. If the criteria is met, we modify the AST, then convert it back into source code.</p> <p>A concrete example: We create a Procedural Modification technique that removes <code>if</code> conditional blocks from a function. We check whether a function has an <code>if</code> block in it. If it does, we remove the <code>if</code> subtree from the AST, then convert the modified AST back into code.</p> <p>Why AST's instead of the literal code? Because AST's give us a rigorous representation that allow modifications of specific program structures to be enforced easily and effortlessly.</p> <p>How do I run it? </p><pre><code>python -m swesmith.bug_gen.procedural.generate $repo \\\n  --max_bugs 10\n</code></pre><p></p> <p>What artifact(s) does it produce? Identical to LM Generated task instances, but the artifacts are instead named:</p> <ul> <li><code>bug__func_pm_&lt;name&gt;__&lt;hash&gt;.diff</code>, for instance <code>bug__func_pm_ctrl_shuffle__jdinra8l.diff</code>.</li> <li><code>metadata__func_pm_&lt;name&gt;__&lt;hash&gt;.json</code></li> </ul> <p>Where <code>&lt;name&gt;</code> refers to the specific identifier for the procedural modification technique. There are 13 (and counting) in total.</p>"},{"location":"guides/create_instances/#running-at-scale-on-modal","title":"Running at Scale on Modal","text":"<p>For generating and validating bugs across many repositories, use the <code>scripts/bug_gen.py</code> script which runs on Modal for scalable cloud execution. (<code>scripts/bug_gen_modal.py</code> is kept as a backward-compatible entrypoint.)</p> <p>Basic Usage</p> <pre><code># Generate + validate bugs for all JavaScript repos\nmodal run scripts/bug_gen.py --language javascript\n\n# Process specific repos only\nmodal run scripts/bug_gen.py --language javascript --repos \"owner/repo1,owner/repo2\"\n</code></pre> <p>Two-Phase Pipeline</p> <p>The script runs two phases automatically:</p> <ol> <li>Generation Phase: Creates bug candidates for each repository using procedural modifications.</li> <li>Validation Phase: Runs pre-gold (baseline) tests, then post-gold tests to verify which bugs actually break tests. Results are persisted to the Modal Volume.</li> </ol> <p>Incremental Processing</p> <p>The script automatically skips already-processed repos and patches. You can safely re-run the command to continue from where it left off.</p> <p>Monitor Progress</p> <pre><code># Check current stats without running generation/validation\nmodal run scripts/bug_gen.py --language javascript --show-stats\n</code></pre> <p>This displays a table with generated, validated, and valid bug counts per repository.</p> <p>Logging to File</p> <p>To save output to a log file with real-time unbuffered streaming:</p> <pre><code>PYTHONUNBUFFERED=1 stdbuf -oL -eL uv run modal run --detach scripts/bug_gen.py --language javascript 2&gt;&amp;1 | tee validation.log\n</code></pre>"},{"location":"guides/create_instances/#pr-mirroring","title":"PR Mirroring","text":"<p>How does it work?</p> <p>This method leverages SWE-bench's task collection script.</p> <p>Run the script for a repository, and it will create a <code>&lt;repo&gt;-task-instances.jsonl.all</code>. This file contains candidate task instances based on real pull requests (PRs) from the repository. A pull request is considered a candidate if</p> <ul> <li>It has at least 1+ issue associated with it.</li> <li>It edits at least 1+ code file.</li> </ul> <p>Candidate criteria</p> <p>SWE-bench has slightly more stringent criteria for PRs that qualify as candidates. Specifically, PRs must also change 1+ test file(s). Because SWE-smith does rely on test file changes to identify breaking existing tests, we can attempt to recreate a broader subset of PRs than what SWE-bench normally considers.</p> <p>We provide this file to SWE-smith. Per PR, we ask an LM to revert the PR's changes file by file. If this process succeeds, we create a candidate task instance that effectively undoes the PR.</p> <p>How do I run it? </p><pre><code>python -m swesmith.bug_gen.mirror.generate $file \\\n    --model openai/o3-mini\n</code></pre><p></p> <p>What artifact(s) does it produce?</p>"},{"location":"guides/create_instances/#combining-bugs","title":"Combining Bugs","text":"<p>How does it work?</p> <p>You might have noticed that Procedural Modification and LM Generated bugs both target individual entities. This means at most one file is modified per bug.</p> <p>We can create more complex bugs by simply combining multiple bugs together.</p> <p>We generally do this by identifying patches that modify the same file or module. A module refers to subdirectories in the codebase.</p> <p>For the identified patches, we apply them one by one. If they all apply cleanly, we combine them into a single patch.</p> <p>You can control</p> <ul> <li><code>num_patches</code>: The number of patches to combine together.</li> <li><code>limit_per_file/module</code>: Maximum number of combined bugs to generate for any file/module.</li> <li><code>max_combos</code>: Maximum number of candidate combinations to generate.</li> <li>(For Module) <code>depth</code>: A depth of <code>2</code> means any patches under <code>a/b</code> are considered to be in the same module. A depth of <code>3</code> means any patches under <code>a/b/c</code> are considered to be in the same module.</li> </ul> <p>Validated task instances only</p> <p>This method combines validated task instances. For this method to work, you must have 1. Generated 1+ Procedural Modification or LM Modify/Rewrite bugs, and 2. validated them. See the Validation section for more details.</p> <p>How do I run it? </p><pre><code>python -m swesmith.bug_gen.combine.same_file logs/bug_gen/&lt;repo&gt; \\\n  --num_patches 3 \\\n  --limit_per_file 15 \\\n  --max_combos 100\n</code></pre><p></p> <pre><code>python -m swesmith.bug_gen.combine.same_module logs/bug_gen/&lt;repo&gt; \\\n  --num_patches 2 \\\n  --limit_per_module 20 \\\n  --max_combos 200 \\\n  --depth 2\n</code></pre> <p>What artifact(s) does it produce?</p> <p>For <code>combine.same_file</code>, a <code>bug__combine_file__&lt;hash&gt;.diff</code> file is written to <code>logs/bug_gen/&lt;repo&gt;/&lt;file_path&gt;/</code>.</p> <p>For <code>combine.same_module</code>, a <code>bug__combine_module__&lt;hash&gt;.diff</code> file is written to <code>logs/bug_gen/&lt;repo&gt;/combine_module/</code>.</p>"},{"location":"guides/difficulty_rating/","title":"Rate Difficulty","text":"<p>To see how SWE-smith compares against real world tasks (e.g. SWE-bench), we LoRA Fine-Tuned a Qwen 2.5 32B Coder Instruct model on 1.5k human ratings of the difficulty of real world bugs.</p> <p>Given the issue text and patch associated with a task instance, the model will rate the task as \"easy\" (&lt; 15 min), \"medium\" (15 min - 1 hour), or \"hard\" (1+ hours).</p>"},{"location":"guides/difficulty_rating/#inference","title":"Inference","text":"<p>You can rate the difficulty of your own task instances by following these steps:</p> <ol> <li> <p>Download the HuggingFace checkpoint.</p> </li> <li> <p>Use <code>sglang</code> to serve the checkpoint. The training scripts available in the SWE-smith repository use Modal as a compute service for hosting inference.</p> </li> </ol> <pre><code>N_HOURS=4 N_GPUS=4 modal run --detach swesmith/train/serve_sglang.py \\\n    --model-path /path/to/checkpoint \\\n    --served-model-name gpt-4o \\\n    --tokenizer-path /path/to/Qwen2.5-Coder-32B-Instruct\n</code></pre> <ol> <li>Run the following script:</li> </ol> <pre><code>python swesmith/train/difficulty_rater/get_difficulties.py \\\n    --base_url &lt;URL where model is hosted&gt; \\\n    --dataset_path path/to/dataset.json\n</code></pre> <p>The script will generate a <code>.json</code> file containing a mapping from each task instance to a difficulty score. You can then compute the dataset's difficulty score as the average of all task instance scores.</p>"},{"location":"guides/difficulty_rating/#prior-datasets","title":"Prior Datasets","text":"<p>Using our model, we've assessed the difficulty of existing datasets, assigning scores of 1/5/9 to easy/medium/hard tasks.</p> Dataset # Instances Score <code>easy</code> <code>med</code> <code>hard</code> SWE-bench 2294 5.014 438 1408 446 \u2514\u2500\u2500 Lite 300 3.893 93 197 10 \u2514\u2500\u2500 Verified 500 3.960 173 284 43 SWE-bench Multimodal 510 6.036 55 265 186 SWE-gym 2438 5.625 288 1456 664 \u2514\u2500\u2500 Lite 230 3.890 67 156 4 SWE-smith (LM Modify) 1000 3.304 441 542 17 SWE-smith (LM Rewrite) 1000 5.272 68 796 136 SWE-smith (Procedural) 1000 3.596 374 603 23 SWE-smith (PR Mirror) 1000 4.876 206 619 175 SWE-smith (Combine) 1000 5.720 52 716 232 <p>From the table, we demonstrate that SWE-smith task instances are comparable to real world tasks, and that our bug generation techniques allow for a wide range of task difficulties.</p>"},{"location":"guides/env_construction/","title":"Build Environments","text":""},{"location":"guides/env_construction/#build-environments","title":"Build Environments","text":"<p>SWE-smith enables automatic conversion of code repositories into reinforcement learning environments.</p> <p>We'll review the two steps of this process:</p> <ol> <li>SWE-agent + LM attempts to install a repository + run the testing suite.</li> <li>Construct an execution environment (Docker image).</li> </ol> <p>For this section, we'll use the Instagram/MonkeyType repository as a running example,  specifically at commit <code>70c3acf</code>.</p>"},{"location":"guides/env_construction/#automatically-install-repos-with-swe-agent","title":"Automatically Install Repos with SWE-agent","text":"<p>Coming soon!</p> <p>Python installation scripts</p> <p>Early on in SWE-smith's development, we focused exclusively on Python repositories and wrote Python-specific scripts for automatic repo instllation. More information here</p>"},{"location":"guides/env_construction/#create-an-execution-environment","title":"Create an Execution Environment","text":"<p>Run the following command to create a Docker image for the repository.</p> <pre><code>python -m swesmith.build_repo.create_images -r MonkeyType\n</code></pre> <p>This command will create two artifacts: 1. A mirror of the original repository at the specified commit, created under <code>swesmith</code>. To change the organization, you can...     * Pass in an <code>--org</code> argument, or     * (If built from source) Change <code>ORG_NAME_GH</code> in <code>swesmith/constants.py</code> 2. A Docker image (<code>swesmith.x86_64.&lt;repo&gt;.&lt;commit&gt;</code>) which contains the installed codebase.</p> <p><code>create_images</code> arguments</p> <p>By default, without <code>-r</code>, the command will build images for all SWE-smith repositories (300+ as of 12/2025).</p> <p><code>-r</code>: Select specific repositories to build using fuzzy matching (e.g., <code>-r django</code> matches any repo containing \"django\").</p> <p><code>-f</code>: Force rebuild images even if they already exist locally.</p> <p>It's good practice to check that your Docker image works as expected. </p><pre><code>docker run -it --rm swebench/swesmith.x86_64.instagram__monkeytype.70c3acf6\n</code></pre> Within the container, run the testing suite (e.g. <code>pytest</code>) to ensure that the codebase is functioning as expected.<p></p> <p>Get existing Docker images</p> <p>All repositories represented in the SWE-smith dataset are available to download. Simply run: </p><pre><code>python -m swesmith.build_repo.download_images\n</code></pre><p></p>"},{"location":"guides/env_construction_py/","title":"Build Python Environments","text":""},{"location":"guides/env_construction_py/#python-environment-options","title":"Python Environment Options","text":"<p>This guide covers Python-specific options for customizing repository installation when using <code>try_install_py</code>.</p>"},{"location":"guides/env_construction_py/#quickstart","title":"Quickstart","text":"<p>The following is a quick demonstration for how to use the <code>try_install_py</code> script. For more details, refer to the \"Running Example\" section.</p> <p></p><pre><code>python -m swesmith.build_repo.try_install_py Instagram/MonkeyType configs/install_repo.sh \\\n    --commit 70c3acf62950be5dfb28743c7a719bfdecebcd84\n</code></pre> where <code>install_repo.sh</code> is the script that installs the repository. (Example)<p></p> <p>If successful, two artifacts will be produced under <code>logs/build_repo/env/&lt;org&gt;__&lt;repo&gt;.&lt;hash&gt;</code>:</p> <ul> <li><code>sweenv_[repo + commit].yml</code>: A dump of the conda environment that was created.</li> <li><code>sweenv_[repo + commit].sh</code>: A log of the installation process.</li> </ul>"},{"location":"guides/env_construction_py/#walkthrough","title":"Walkthrough","text":"<p>Throughout this guide, we'll use the Instagram/MonkeyType repository at commit <code>70c3acf</code> as our running example.</p>"},{"location":"guides/env_construction_py/#python-version-selection","title":"Python Version Selection","text":"<p>By default, the installation script creates a conda environment with Python 3.10. You can specify a different Python version using the <code>--python-version</code> flag:</p> <pre><code>python -m swesmith.build_repo.try_install_py Instagram/MonkeyType configs/install_repo.sh \\\n    --commit 70c3acf62950be5dfb28743c7a719bfdecebcd84 \\\n    --python-version 3.11\n</code></pre> <p>This sets the <code>SWESMITH_PYTHON_VERSION</code> environment variable, which the install script uses when creating the conda environment:</p> <pre><code>conda create -n testbed \"python=${PYTHON_VERSION}\" -yq\n</code></pre>"},{"location":"guides/env_construction_py/#test-dependency-installation","title":"Test Dependency Installation","text":"<p>The install script now tries multiple strategies to install test dependencies, in order:</p> <ol> <li>Extras: <code>pip install -e \".[test]\"</code></li> <li>Requirements file: <code>pip install -r requirements-test.txt</code></li> <li>Profile hooks: Custom install commands from the repository profile</li> </ol> <p>For MonkeyType, the install script will successfully use the extras approach since <code>setup.py</code> defines test dependencies in <code>extras_require</code>.</p> <p>Adding Extra Test Dependencies. If a repository needs additional test utilities beyond its declared dependencies, use <code>--extra-test-deps</code>:</p> <pre><code>python -m swesmith.build_repo.try_install_py Instagram/MonkeyType configs/install_repo.sh \\\n    --commit 70c3acf62950be5dfb28743c7a719bfdecebcd84 \\\n    --extra-test-deps \"hypothesis coverage\"\n</code></pre> <p>This passes the packages to the install script via <code>SWESMITH_EXTRA_TEST_DEPS</code>, which installs them after the main test dependencies:</p> <pre><code>python -m pip install hypothesis coverage\n</code></pre>"},{"location":"guides/env_construction_py/#smoke-testing","title":"Smoke Testing","text":"<p>After installation, the script runs a smoke test to verify the environment works correctly. This flag is not necessary, but provided to enable easy checking. In general, we encourage putting all necessary installation steps in <code>install_repo.sh</code>.</p> <p>Default Behavior. If pytest is available in the environment, the default smoke test is: </p><pre><code>pytest -q --maxfail=1\n</code></pre><p></p> <p>For MonkeyType, this would run: </p><pre><code>&gt; Running smoke test: pytest -q --maxfail=1\n&gt; Smoke test passed\n</code></pre><p></p> <p>Custom Smoke Test. You can specify a custom smoke test command:</p> <pre><code>python -m swesmith.build_repo.try_install_py Instagram/MonkeyType configs/install_repo.sh \\\n    --commit 70c3acf62950be5dfb28743c7a719bfdecebcd84 \\\n    --smoke-cmd \"python -m pytest tests/test_cli.py -v\"\n</code></pre> <p>Skipping Smoke Test. To skip the smoke test entirely:</p> <pre><code>python -m swesmith.build_repo.try_install_py Instagram/MonkeyType configs/install_repo.sh \\\n    --commit 70c3acf62950be5dfb28743c7a719bfdecebcd84 \\\n    --skip-smoke\n</code></pre>"},{"location":"guides/env_construction_py/#debugging-options","title":"Debugging Options","text":"<p>Force Overwrite. If the environment file already exists, you'll be prompted to overwrite it. Use <code>--force</code> to skip the prompt:</p> <pre><code>python -m swesmith.build_repo.try_install_py Instagram/MonkeyType configs/install_repo.sh \\\n    --commit 70c3acf62950be5dfb28743c7a719bfdecebcd84 \\\n    --force\n</code></pre> <p>Keep Environments for Inspection. By default, the script cleans up the cloned repository and conda environment after completion. Use <code>--no_cleanup</code> to keep them for debugging:</p> <pre><code>python -m swesmith.build_repo.try_install_py Instagram/MonkeyType configs/install_repo.sh \\\n    --commit 70c3acf62950be5dfb28743c7a719bfdecebcd84 \\\n    --no_cleanup\n</code></pre> <p>After running with this flag, you can inspect the environment:</p> <pre><code>conda activate testbed\ncd MonkeyType\npytest tests/\n</code></pre>"},{"location":"guides/env_construction_py/#complete-example","title":"Complete Example","text":"<p>Here's a complete example using MonkeyType with multiple options:</p> <pre><code>python -m swesmith.build_repo.try_install_py Instagram/MonkeyType configs/install_repo.sh \\\n    --commit 70c3acf62950be5dfb28743c7a719bfdecebcd84 \\\n    --python-version 3.11 \\\n    --extra-test-deps \"hypothesis\" \\\n    --smoke-cmd \"pytest tests/test_cli.py -q\" \\\n    --force\n</code></pre> <p>This will: - Clone MonkeyType at commit <code>70c3acf</code> - Create a conda environment with Python 3.11 - Install the repository in editable mode - Install test dependencies (found via <code>[test]</code> extras) - Install <code>hypothesis</code> as an additional test dependency - Run <code>pytest tests/test_cli.py -q</code> as the smoke test - Force overwrite any existing environment file - Clean up the repository and environment after completion</p>"},{"location":"guides/harnesses/","title":"Validation & Evaluation","text":""},{"location":"guides/harnesses/#validation-evaluation","title":"Validation &amp; Evaluation","text":"<p>Great! You now have an execution environment + a bunch of candidate task instances. How do we determine which ones can be used for training?</p> <p>We provide two harnesses for the purposes of:</p> <ul> <li>Validation: To check if a candidate task instance is usable (breaks 1+ existing tests).</li> <li>Evaluation: To check if the proposed solution for a task instance is correct.</li> </ul> <p>The purposes of these harnesses are identical to their motivations in SWE-bench.</p>"},{"location":"guides/harnesses/#validation","title":"Validation","text":"<p>The validation harness is used to check if a candidate task instance is usable (breaks 1+ existing tests).</p> <p>Once you've generated task instance candidates, follow these steps to validate them:</p> <ol> <li>Collect the candidates</li> </ol> <pre><code>python -m swesmith.bug_gen.collect_patches logs/bug_gen/&lt;repo&gt;\n</code></pre> <p>This produces a <code>logs/bug_gen/&lt;repo&gt;_all_patches.json</code> file with all the candidate task instances.</p> <ol> <li>Run validation</li> </ol> <pre><code>python -m swesmith.harness.valid logs/bug_gen/&lt;repo&gt;_all_patches.json\n</code></pre> <p>The validation harness works in two steps. First, it runs the original repository's test suite to get the passing statuses of the existing tests. Then, it applies each candidate task instance to the repository and runs the test suite again. If the candidate task instance breaks 1+ existing tests, it is considered a usable task instance.</p> <p>For each task instance, the validation harness produces a <code>logs/run_validation/&lt;run_id&gt;/&lt;instance_id&gt;</code> folder containing the following information:</p> <ul> <li><code>eval.sh</code>: The sequence of test command(s) run</li> <li><code>patch.diff</code>: The candidate task instance</li> <li><code>report.json</code>: <code>FAIL_TO_PASS</code> and <code>PASS_TO_PASS</code> test cases</li> <li><code>run_instance.log</code>: The full trace of running validation</li> <li><code>test_output.txt</code>: The standard output of the test command(s)</li> </ul> <ol> <li>Collect validated task instances</li> </ol> <pre><code>python -m swesmith.harness.gather logs/run_validation/&lt;run_id&gt;\n</code></pre> <p>Task instances with 1+ <code>FAIL_TO_PASS</code> test cases and 1+ <code>PASS_TO_PASS</code> test cases are considered valid.</p> <p>This script performs two actions:</p> <ul> <li>It collects all valid task instances into a <code>logs/task_insts/&lt;run_id&gt;.json</code>. Each instance contains the following information: <pre><code>{\n    \"instance_id\": &lt;instance_id&gt;,\n    \"repo\": &lt;repo&gt;,\n    \"patch\": &lt;The diff that, when applied, creates the bug&gt;,\n    \"FAIL_TO_PASS\": &lt;List of broken test cases&gt;,\n    \"PASS_TO_PASS\": &lt;List of passing test cases&gt;,\n    \"image_name\": &lt;docker image name&gt;,\n}\n</code></pre></li> <li>For each valid task instance, a branch called <code>&lt;instance_id&gt;</code> is created in the repository. The branch corresponds to the repository with the task instance's bug patch applied.</li> </ul>"},{"location":"guides/harnesses/#evaluation","title":"Evaluation","text":"<p>The evaluation harness is used to check if the proposed solution for a task instance is correct.</p> <p>You can run this script to sanity check that testing for validated task instances works as expected:</p> <pre><code>python -m swesmith.harness.eval \\\n    --dataset_path bugs/task_insts/{repo}.json \\\n    --predictions_path gold \\\n    --run_id sanity\n</code></pre> <p>If you want to run on real predictions, simply replace <code>gold</code> with the path to your predictions, which should look like:</p> <pre><code>{\n    \"instance_id\": &lt;instance_id&gt;,\n    \"patch\": &lt;The diff that, when applied, fixes the bug&gt;,\n    \"model_name_or_path\": &lt;The model used to generate the patch&gt;,\n}\n</code></pre>"},{"location":"guides/issue_gen/","title":"Generate Issue Text","text":"<p>You have a bunch of task instances with executable environments. You're very close to training SWE-agents on this data. There's one last step - let's generate issue text.</p> <p>We primarily use LM's to generate issue text.</p> <pre><code>python swesmith/issue_gen/generate.py logs/task_insts/&lt;repo&gt;.json \\\n    --config_file configs/issue_gen/ig_v2.yaml \\\n    --model anthropic/claude-3-7-sonnet-20250219 \\\n    --n_workers 4 \\\n    --experiment_id ig_v2 \\\n    --use_existing\n</code></pre> <p>This will generated issue text for each task instance, producing several artifacts along the way:</p> <ul> <li>Under <code>logs/issue_gen/ig_v2/&lt;repo&gt;</code>, there will be a folder for each task instance, containing:<ul> <li><code>messages.json</code>: The messages fed to the LM to generate the issue text.</li> <li><code>metadata.json</code>: Conatins the issue text + inference cost.</li> </ul> </li> <li>In the same directory as <code>logs/task_insts/&lt;repo&gt;.json</code>, a <code>logs/issue_gen/&lt;repo&gt;__ig_v2_n1.json</code> file will be created, which is a copy of the original file with issue text added to each task instance (as the <code>problem_statement</code> field).</li> </ul>"},{"location":"guides/issue_gen/#alternatives","title":"Alternatives","text":"<p>In our paper, we discuss several alternatives for generating issue text. While our experiments suggest that LM generated issue text is the best proxy for real issue text, we provide instructions for the alternatives below.</p> <p>Static Issue Text</p> <p>The problem statement is generated by randomly selecting one of 7 static issue text templates.</p> <pre><code>python swesmith/issue_gen/get_static.py logs/task_insts/&lt;repo&gt;.json\n</code></pre> <p>Produces a <code>logs/issue_gen/&lt;repo&gt;__ig_static.json</code> file.</p> <p>Random F2P Test Case</p> <p>The problem statement shows a randomly selected Fail-to-Pass test case from the task instance.</p> <pre><code>python swesmith/issue_gen/get_from_tests.py logs/task_insts/&lt;repo&gt;.json\n</code></pre> <p>Original Issue Text</p> <p>Note</p> <p>This strategy only works for some PR Mirrors, if the pull request the mirror is based on has issue(s) associated with it.</p> <pre><code>python swesmith/issue_gen/get_from_pr.py logs/task_insts/&lt;repo&gt;.json\n</code></pre> <p>Produces a <code>logs/issue_gen/&lt;repo&gt;__ig_orig.json</code> file.</p>"},{"location":"guides/train_swe_agent/","title":"Train SWE-agents","text":""},{"location":"guides/train_swe_agent/#swe-agent","title":"\u8bad\u7ec3 SWE-agent","text":"<p>\u4e0b\u9762\u8fdb\u5165\u5173\u952e\u90e8\u5206\uff1a\u5982\u4f55\u4f7f\u7528 SWE-smith \u8bad\u7ec3 SWE-agent\u3002</p> <p>\u672c\u8282\u91cd\u70b9\u4ecb\u7ecd\u57fa\u4e8e\u62d2\u7edd\u91c7\u6837\u7684\u76d1\u7763\u5fae\u8c03\uff08RSFT\uff09\u6d41\u7a0b\u3002</p> <p>SWE-agent</p> <p>\u672c\u8282\u6587\u6863\u57fa\u4e8e SWE-agent \u7684\u5de5\u4f5c\u6d41\u3002 \u6211\u4eec\u6682\u4e0d\u663e\u5f0f\u652f\u6301\u975e SWE-agent \u811a\u624b\u67b6\uff0c\u4f46\u8fc1\u79fb\u901a\u5e38\u4e0d\u96be\uff0c\u4e3b\u8981\u9700\u8981\u6539\u52a8\u7684\u662f\u4e13\u5bb6\u8f68\u8ff9\u751f\u6210\u4e0e\u8bc4\u6d4b\u9884\u6d4b\u6587\u4ef6\u7684\u5bf9\u63a5\u65b9\u5f0f\u3002</p> <p>\u6574\u4f53\u5305\u542b\u4ee5\u4e0b\u6b65\u9aa4\uff1a</p> <ol> <li>\u6784\u5efa SWE-smith \u4efb\u52a1\u5b50\u96c6\uff1b</li> <li>\u4e3a\u5b50\u96c6\u751f\u6210\u4e13\u5bb6\u8f68\u8ff9\uff1b</li> <li>\u7528\u4e13\u5bb6\u8f68\u8ff9\u8bad\u7ec3\u6a21\u578b\uff1b</li> <li>\u5728 SWE-bench\uff08Lite/Verified/Multimodal\uff09\u4e0a\u8bc4\u4f30\u6a21\u578b\u3002</li> </ol> <p>\u5982\u679c\u4f60\u9700\u8981\u76f4\u63a5\u590d\u7528\u201c\u4efb\u52a1\u5b9e\u4f8b -&gt; \u8f68\u8ff9/SFT -&gt; \u672c\u5730 SFT\u201d\u7684\u53c2\u6570\u5316\u547d\u4ee4\u6a21\u677f\uff0c\u53ef\u5148\u770b\uff1a <code>docs/guides/ts_three_pipelines.md</code></p>"},{"location":"guides/train_swe_agent/#swe-smith","title":"\u6784\u5efa SWE-smith \u5b50\u96c6","text":"<p>\u5982\u679c\u4f60\u76f4\u63a5\u4f7f\u7528\u5b8c\u6574\u7684 SWE-smith \u6570\u636e\u96c6\uff0c\u89c4\u6a21\u4f1a\u6bd4\u8f83\u5927\u3002 \u901a\u5e38\u5efa\u8bae\u5148\u7b5b\u9009\u51fa\u4e00\u4e2a\u66f4\u53ef\u63a7\u7684\u8bad\u7ec3\u5b50\u96c6\u3002\u793a\u4f8b\u903b\u8f91\u5982\u4e0b\uff1a</p> <pre><code>import json\n\nfrom datasets import load_dataset\nswesmith = load_dataset(\"SWE-bench/SWE-smith\", split=\"train\")\n\nsubset_name = \"subset0\"\ndef criteria(task_instance):\n    return \".pr_\" in task_instance[\"instance_id\"] and \\\n        len(task_instance[\"FAIL_TO_PASS\"]) &lt;= 5 and \\\n        len(task_instance[\"FAIL_TO_PASS\"]) &gt;= 2\nbugs = [x for x in swesmith if criteria(x)]\nprint(f\"Found {len(bugs)} bugs that match criteria\")\nwith open(f\"logs/experiments/{subset_name}.json\", \"w\") as f:\n    json.dump(bugs, fp=f, indent=2)\n</code></pre>"},{"location":"guides/train_swe_agent/#_1","title":"\u751f\u6210\u4e13\u5bb6\u8f68\u8ff9","text":"<ol> <li> <p>\u514b\u9686 SWE-agent\uff0c\u5e76\u6309\u5176\u5b98\u65b9\u5b89\u88c5\u6587\u6863\u5b8c\u6210\u73af\u5883\u914d\u7f6e\u3002</p> </li> <li> <p>\u5728 SWE-agent \u4ed3\u5e93\u4e2d\u521b\u5efa\u5230 <code>SWE-smith/agent/</code> \u7684\u8f6f\u94fe\u63a5\uff1a </p><pre><code>ln -s path/to/SWE-smith/agent/ .\n</code></pre><p></p> </li> <li> <p>\u5728 SWE-agent \u4e2d\u8fd0\u884c\u4e13\u5bb6\u8f68\u8ff9\u751f\u6210\uff1a </p><pre><code>./agent/_gen_trajs.sh\n</code></pre><p></p> </li> </ol> <p>\u8bf7\u6839\u636e\u8be5\u811a\u672c\u5185\u5bb9\u8c03\u6574 <code>--instances.path</code>\uff0c\u6307\u5411\u4f60\u4e0a\u4e00\u6b65\u751f\u6210\u7684\u5b50\u96c6\u6587\u4ef6\u3002</p>"},{"location":"guides/train_swe_agent/#_2","title":"\u8bad\u7ec3\u6a21\u578b","text":"<p>\u4e0a\u4e00\u6b65\u4f1a\u5728 <code>SWE-agent/trajectories/&lt;username&gt;/&lt;run ID&gt;/</code> \u4e0b\u751f\u6210\u6bcf\u4e2a\u4efb\u52a1\u5b9e\u4f8b\u7684\u8f68\u8ff9\u76ee\u5f55\u3002</p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u8981\u7b5b\u9009\u51fa\u5df2\u89e3\u51b3\uff08resolved\uff09\u7684\u8f68\u8ff9\uff0c\u8f6c\u6362\u4e3a SFT \u53ef\u7528\u683c\u5f0f\uff0c\u518d\u6267\u884c\u8bad\u7ec3\u3002</p> <p>1.\uff08\u5728 SWE-smith \u4e2d\uff09\u5148\u5bf9\u8bad\u7ec3\u4efb\u52a1\u8fd0\u884c\u8bc4\u6d4b\uff1a </p><pre><code>python -m swesmith.harness.eval \\\n    --dataset_path path/to/subset0.json \\\n    --predictions_path path/to/trajectories/&lt;username&gt;/&lt;run ID&gt;/preds.json \\\n    --run_id &lt;run ID&gt; \\\n    --workers 10 \\\n    --timeout 240\n</code></pre><p></p> <p><code>preds.json</code></p> <p>\u5982\u679c\u6ca1\u6709 <code>preds.json</code>\uff0c\u53ef\u5148\u6267\u884c\uff1a<code>sweagent merge-preds trajectories/&lt;username&gt;/&lt;run ID&gt;/</code>\u3002</p> <p>\u8bc4\u6d4b\u4f1a\u751f\u6210 <code>logs/run_evaluation/&lt;run ID&gt;/</code>\uff0c\u5176\u4e2d <code>report.json</code> \u6807\u8bb0\u4e86\u54ea\u4e9b\u5b9e\u4f8b\u6210\u529f\u89e3\u51b3\u3002</p> <p>2.\uff08\u5728 SWE-smith \u4e2d\uff09\u628a\u8f68\u8ff9\u8f6c\u6362\u4e3a SFT \u683c\u5f0f\uff1a </p><pre><code>python -m swesmith.train.traj_mgr.collect_trajs \\\n    --traj_dir path/to/trajectories/&lt;username&gt;/&lt;run ID&gt;/ \\\n    --eval_dir logs/run_evaluation/&lt;run ID&gt;/\n</code></pre><p></p> <p>\u8be5\u6b65\u9aa4\u4f1a\u5728 <code>trajectories_sft/</code> \u4e0b\u4ea7\u51fa <code>&lt;run_id&gt;.xml.jsonl</code>\uff08\u6587\u4ef6\u540d\u6765\u81ea <code>eval_dir</code> \u76ee\u5f55\u540d\uff09\uff0c\u53ef\u76f4\u63a5\u7528\u4e8e SFT\u3002</p> <p>3.\uff08\u539f\u4ed3\u5e93\u4e91\u7aef\u6d41\u7a0b\uff09\u5148\u4e0a\u4f20\u5230 Modal\uff0c\u518d\u8bad\u7ec3\uff1a </p><pre><code>modal volume put &lt;volume&gt; trajectories_sft/&lt;run_id&gt;.xml.jsonl\n</code></pre><p></p> <p>\u7136\u540e\u4fee\u6539 <code>configs/train/full_ft_qwen_7b.yml</code> \u6307\u5411 Modal \u4e0a\u7684\u6570\u636e\u6587\u4ef6\uff0c\u6700\u540e\u6267\u884c\u8bad\u7ec3\u811a\u672c\uff1a </p><pre><code>./scripts/train_run_ft_torchtune.sh\n</code></pre><p></p>"},{"location":"guides/train_swe_agent/#_3","title":"\u8bc4\u4f30","text":"<p>\u5728 SWE-agent + SFT \u540e\u6a21\u578b\u4e0a\u8fd0\u884c SWE-bench\uff08Lite/Verified/Multimodal\uff09\u8bc4\u4f30\u3002</p> <p>1.\uff08\u5728 SWE-smith \u4e2d\uff09\u4fee\u6539 <code>scripts/train_serve_sglang.sh</code> \u6307\u5411\u8bad\u7ec3\u540e\u6a21\u578b\u5e76\u542f\u52a8\u670d\u52a1\u3002</p> <p>2.\uff08\u5728 SWE-agent \u4e2d\uff09\u6267\u884c\u63a8\u7406\uff1a </p><pre><code>./agent/_infer_model.sh\n</code></pre><p></p> <p>\u8bf7\u786e\u8ba4\u670d\u52a1 URL \u6b63\u786e\uff0c\u5e76\u6309\u9700\u5207\u6362\u8bc4\u6d4b\u6570\u636e\u96c6\u3002</p> <ol> <li>\u63a8\u7406\u5b8c\u6210\u540e\uff0c\u63d0\u4ea4\u8bc4\u6d4b\uff08\u53ef\u53c2\u8003 sb-cli\uff09\uff1a <pre><code>sb-cli submit swe-bench_verified test \\\n    --predictions_path trajectories/&lt;username&gt;/&lt;run ID&gt;/preds.json \\\n    --run_id &lt;run ID&gt;\n</code></pre></li> </ol>"},{"location":"guides/train_swe_agent/#modal","title":"\u672c\u5730\u8bad\u7ec3\uff08\u4e0d\u4f7f\u7528 Modal\uff09","text":"<p>\u4f60\u53ef\u4ee5\u5728\u672c\u673a\u5b8c\u6574\u6267\u884c\u540c\u6837\u7684 SFT \u6d41\u7a0b\u3002\u4ed3\u5e93\u5df2\u63d0\u4f9b <code>Qwen2.5-Coder-7B-Instruct</code> \u7684\u672c\u5730\u811a\u672c\u4e0e\u914d\u7f6e\u3002</p>"},{"location":"guides/train_swe_agent/#1-sft-jsonl","title":"1\uff09\u5c06\u8f68\u8ff9\u8f6c\u6362\u4e3a SFT jsonl","text":"<pre><code>./scripts/train_prepare_sft_local.sh \\\n  /path/to/SWE-agent/trajectories/&lt;user&gt;/&lt;run_id&gt;/ \\\n  logs/run_evaluation/&lt;run_id&gt;/ \\\n  xml\n</code></pre> <p>\u8be5\u811a\u672c\u4f1a\u5c01\u88c5\uff1a - <code>python -m swesmith.train.traj_mgr.collect_trajs ...</code> - \u53ef\u9009\u957f\u5ea6\u7edf\u8ba1\u6821\u9a8c\uff08\u5f53\u4f60\u663e\u5f0f\u4f20\u5165 <code>STATS_FILE</code> \u65f6\uff09\uff1a   <code>python -m swesmith.train.traj_mgr.validate_len_stats ...</code></p> <p>\u9ed8\u8ba4\u884c\u4e3a\uff1a - \u8f93\u51fa\u76ee\u5f55\uff1a<code>trajectories_sft/</code> - \u82e5\u672a\u8bbe\u7f6e <code>STATS_FILE</code>\uff0c\u4f1a\u8df3\u8fc7\u957f\u5ea6\u7edf\u8ba1\u6821\u9a8c\u3002</p>"},{"location":"guides/train_swe_agent/#2","title":"2\uff09\u51c6\u5907\u672c\u5730\u8bad\u7ec3\u914d\u7f6e","text":"<p>\u4f7f\u7528 <code>configs/train/full_ft_qwen_7b_local.yml</code>\u3002\u4f7f\u7528\u524d\u9700\u66ff\u6362\u5176\u4e2d\u7684\u5360\u4f4d\u7b26\u8def\u5f84\uff1a - <code>dataset.data_files</code>: \u6307\u5411\u4f60\u7684 resolved SFT JSONL \u6587\u4ef6 - <code>output_dir</code>: \u8bad\u7ec3\u8f93\u51fa\u76ee\u5f55 - <code>&lt;MODEL_DIR&gt;</code>: \u57fa\u7840\u6a21\u578b\u76ee\u5f55\uff08\u5982 <code>Qwen2.5-Coder-7B-Instruct</code>\uff09</p> <p>\u914d\u7f6e\u9ed8\u8ba4\u503c\uff1a - <code>max_seq_len: 32768</code> - <code>packed: False</code> - <code>conversation_style: openai</code></p>"},{"location":"guides/train_swe_agent/#3-sft","title":"3\uff09\u6267\u884c\u672c\u5730 SFT","text":"<pre><code>N_GPUS=1 CONFIG_PATH=configs/train/full_ft_qwen_7b_local.yml \\\n  ./scripts/train_run_ft_torchtune_local.sh\n</code></pre> <p>\u542f\u52a8\u811a\u672c\u4f1a\u5728\u8bad\u7ec3\u524d\u505a\u4e24\u7c7b\u6821\u9a8c\uff1a - \u914d\u7f6e\u4e2d\u5173\u952e\u8def\u5f84\u4e0e\u6743\u91cd\u5206\u7247\u662f\u5426\u5b58\u5728\uff1b - \u82e5\u8bbe\u7f6e\u4e86 <code>LEN_STATS_FILE</code>\uff0c\u4f1a\u5bf9\u8bad\u7ec3\u6570\u636e\u505a\u957f\u5ea6\u7edf\u8ba1\u4e00\u81f4\u6027\u6821\u9a8c\u3002</p> <p>\u5982\u9700\u8df3\u8fc7\u957f\u5ea6\u7edf\u8ba1\u6821\u9a8c\uff0c\u53ef\u663e\u5f0f\u8bbe\u7f6e\uff1a </p><pre><code>LEN_STATS_FILE=\"\" N_GPUS=1 CONFIG_PATH=configs/train/full_ft_qwen_7b_local.yml \\\n  ./scripts/train_run_ft_torchtune_local.sh\n</code></pre><p></p>"},{"location":"guides/train_swe_agent/#4-checkpoint-swe-agent","title":"4\uff09\u542f\u52a8\u672c\u5730 checkpoint \u670d\u52a1\uff08\u53ef\u9009\uff0c\u7528\u4e8e SWE-agent \u8bc4\u6d4b\uff09","text":"<pre><code>MODEL_PATH=/path/to/outputs/&lt;exp_name&gt;/epoch_2 \\\nTOKENIZER_PATH=/path/to/Qwen2.5-Coder-7B-Instruct \\\nSERVED_MODEL_NAME=qwen2p5-coder-7b-sft-local \\\nTP_SIZE=1 \\\n./scripts/train_serve_sglang_local.sh\n</code></pre> <p>\u8be5\u811a\u672c\u4e0e\u539f\u4ed3\u5e93\u884c\u4e3a\u4fdd\u6301\u4e00\u81f4\uff1a\u82e5 <code>MODEL_PATH</code> \u4e0b\u7f3a\u5c11 <code>config.json</code>\uff0c\u4f1a\u81ea\u52a8\u4ece <code>TOKENIZER_PATH</code> \u590d\u5236\u3002</p> <p>\u517c\u5bb9\u6027\u8bf4\u660e\uff1a\u4ed3\u5e93\u4ecd\u4fdd\u7559\u65e7\u547d\u540d\uff08\u4f8b\u5982 <code>train.run_ft_torchtune.local.sh</code>\uff09\u4f5c\u4e3a\u517c\u5bb9\u5165\u53e3\uff1b\u6587\u6863\u7edf\u4e00\u4f7f\u7528\u65b0\u7684 <code>snake_case</code> \u547d\u540d\u3002</p>"},{"location":"guides/train_swe_agent/#5-swe-agent","title":"5\uff09\u8fd0\u884c SWE-agent \u63a8\u7406\u4e0e\u8bc4\u4f30","text":"<p>\u5728 SWE-agent \u4e2d\u5c06 <code>_infer_model.sh</code> \u6307\u5411\u672c\u5730 <code>sglang</code> \u5730\u5740\uff0c\u63a8\u7406\u5b8c\u6210\u540e\u6267\u884c\uff1a</p> <pre><code>sb-cli submit swe-bench_verified test \\\n  --predictions_path /path/to/SWE-agent/trajectories/&lt;user&gt;/&lt;run_id&gt;/preds.json \\\n  --run_id &lt;run_id&gt;\n</code></pre>"},{"location":"guides/ts_migration_report/","title":"SWE-smith Python \u2192 TypeScript \u8fc1\u79fb\uff1a\u5de5\u4f5c\u603b\u7ed3\u4e0e\u8e29\u5751\u8bb0\u5f55","text":""},{"location":"guides/ts_migration_report/#swe-smith-python-typescript","title":"SWE-smith Python \u2192 TypeScript \u8fc1\u79fb\uff1a\u5de5\u4f5c\u603b\u7ed3\u4e0e\u8e29\u5751\u8bb0\u5f55","text":""},{"location":"guides/ts_migration_report/#_1","title":"\u76ee\u5f55","text":"<ul> <li>\u4e00\u3001\u9879\u76ee\u80cc\u666f\u4e0e\u8fc1\u79fb\u76ee\u6807</li> <li>\u4e8c\u3001\u8fc1\u79fb\u5de5\u4f5c\u5168\u666f\u56fe</li> <li>\u4e09\u3001\u6211\u4eec\u505a\u4e86\u54ea\u4e9b\u5de5\u4f5c</li> <li>3.1 TypeScript Profile \u4f53\u7cfb\u6784\u5efa</li> <li>3.2 TypeScript AST \u89e3\u6790\u9002\u914d\u5668</li> <li>3.3 TypeScript \u4e13\u7528 Bug \u751f\u6210\u914d\u7f6e</li> <li>3.4 \u7aef\u5230\u7aef\u81ea\u52a8\u5316\u6d41\u6c34\u7ebf</li> <li>3.5 \u81ea\u52a8 Profile \u751f\u6210\u5668</li> <li>3.6 SWE-agent \u914d\u7f6e\u9002\u914d</li> <li>3.7 Docker \u7f51\u7edc\u4e0e\u4ee3\u7406\u65b9\u6848</li> <li>3.8 \u672c\u5730\u8bad\u7ec3\u4e0e\u670d\u52a1\u90e8\u7f72\u5168\u94fe\u8def</li> <li>3.9 \u4e09\u6bb5\u5f0f\u6d41\u6c34\u7ebf\u6587\u6863\u4f53\u7cfb</li> <li>\u56db\u3001\u8e29\u5751\u8bb0\u5f55\u4e0e\u89e3\u51b3\u65b9\u6848</li> <li>4.1 \u8bed\u8a00\u5c42\u9762\u7684\u5751</li> <li>4.2 \u914d\u7f6e\u5c42\u9762\u7684\u5751</li> <li>4.3 \u6027\u80fd\u4e0e\u6570\u636e\u5c42\u9762\u7684\u5751</li> <li>4.4 \u90e8\u7f72\u5c42\u9762\u7684\u5751</li> <li>\u4e94\u3001\u5173\u952e\u4ea7\u7269\u6e05\u5355</li> <li>\u516d\u3001\u6570\u636e\u7edf\u8ba1</li> </ul>"},{"location":"guides/ts_migration_report/#_2","title":"\u4e00\u3001\u9879\u76ee\u80cc\u666f\u4e0e\u8fc1\u79fb\u76ee\u6807","text":"<p>SWE-smith\uff08NeurIPS 2025 D&amp;B Spotlight\uff09\u662f\u4e00\u4e2a\u7528\u4e8e\u8bad\u7ec3\u8f6f\u4ef6\u5de5\u7a0b Agent \u7684\u5de5\u5177\u5305\uff0c\u5176\u6838\u5fc3\u80fd\u529b\u662f\u5c06\u4efb\u610f GitHub \u4ed3\u5e93\u8f6c\u5316\u4e3a SWE-bench \u98ce\u683c\u7684\u8bad\u7ec3\u6570\u636e\u3002\u539f\u59cb\u9879\u76ee\u4ec5\u652f\u6301 Python \u4ed3\u5e93\uff0c\u6211\u4eec\u7684\u5de5\u4f5c\u662f\u5c06\u5176\u5b8c\u6574\u6269\u5c55\u5230 TypeScript \u751f\u6001\u3002</p> <p>\u8fc1\u79fb\u76ee\u6807\u5305\u542b\u4e09\u4e2a\u5c42\u6b21\uff1a</p> <ol> <li>\u73af\u5883\u5c42\uff1a\u8ba9 SWE-smith \u80fd\u6784\u5efa TypeScript \u4ed3\u5e93\u7684 Docker \u6267\u884c\u73af\u5883</li> <li>\u6570\u636e\u5c42\uff1a\u751f\u6210 TS \u4ed3\u5e93\u7684 Bug \u4efb\u52a1\u5b9e\u4f8b + SWE-agent \u4fee\u590d\u8f68\u8ff9 + SFT \u8bad\u7ec3\u6570\u636e</li> <li>\u8bad\u7ec3\u5c42\uff1a\u57fa\u4e8e TS \u8f68\u8ff9\u6570\u636e\u5bf9 Qwen2.5-Coder-7B-Instruct \u8fdb\u884c\u672c\u5730\u5168\u91cf\u5fae\u8c03</li> </ol>"},{"location":"guides/ts_migration_report/#_3","title":"\u4e8c\u3001\u8fc1\u79fb\u5de5\u4f5c\u5168\u666f\u56fe","text":"<pre><code>\u539f\u59cb SWE-smith (\u4ec5 Python)\n\u2502\n\u251c\u2500 profiles/python.py          \u2190 \u4ec5\u6709 Python Profile\n\u251c\u2500 bug_gen/adapters/python.py  \u2190 \u4ec5\u6709 Python AST \u9002\u914d\n\u251c\u2500 configs/bug_gen/lm_*.yml    \u2190 \u4ec5\u6709 Python Prompt\n\u251c\u2500 agent/swesmith_gen_*.yaml   \u2190 \u4ec5\u6709 Python Agent \u914d\u7f6e\n\u251c\u2500 scripts/train_*             \u2190 \u4f9d\u8d56 Modal \u4e91\u5e73\u53f0\n\u2514\u2500 docs/                       \u2190 \u4ec5\u6709 Python \u6587\u6863\n\n                    \u2193\u2193\u2193 \u8fc1\u79fb\u5de5\u4f5c \u2193\u2193\u2193\n\n\u6269\u5c55\u540e SWE-smith (Python + TypeScript)\n\u2502\n\u251c\u2500 profiles/typescript.py          \u2705 \u65b0\u589e\uff1aTS Profile \u57fa\u7c7b + 7 \u4e2a\u4ed3\u5e93 Profile\n\u251c\u2500 profiles/generated/             \u2705 \u65b0\u589e\uff1a\u81ea\u52a8\u751f\u6210\u7684 Profile \u76ee\u5f55\n\u251c\u2500 bug_gen/adapters/typescript.py  \u2705 \u65b0\u589e\uff1atree-sitter-typescript AST \u9002\u914d\n\u251c\u2500 configs/bug_gen/ts_modify.yml   \u2705 \u65b0\u589e\uff1aTS \u4e13\u7528 LLM Bug \u751f\u6210 Prompt\n\u251c\u2500 configs/bug_gen/ts_rewrite.yml  \u2705 \u65b0\u589e\uff1aTS \u4e13\u7528 LLM Rewrite Prompt\n\u251c\u2500 configs/train/*_local.yml       \u2705 \u65b0\u589e\uff1a\u672c\u5730\u8bad\u7ec3\u914d\u7f6e\n\u251c\u2500 agent/swesmith_gen_glm_ts.yaml  \u2705 \u65b0\u589e\uff1aTS \u8f68\u8ff9\u751f\u6210\u914d\u7f6e\n\u251c\u2500 agent/swesmith_infer_ts.yaml    \u2705 \u65b0\u589e\uff1aTS \u63a8\u7406\u8bc4\u6d4b\u914d\u7f6e\n\u251c\u2500 agent/_gen_trajs.sh             \u2705 \u91cd\u5199\uff1a\u4ee3\u7406\u9884\u68c0 + SOCKS \u964d\u7ea7 + \u8f68\u8ff9\u540e\u68c0\n\u251c\u2500 scripts/ts_standard_pipeline.py \u2705 \u65b0\u589e\uff1aTS \u7aef\u5230\u7aef\u6d41\u6c34\u7ebf\uff08636 \u884c\uff09\n\u251c\u2500 scripts/auto_profile_ts.py     \u2705 \u65b0\u589e\uff1a\u81ea\u52a8 Profile \u751f\u6210\u5668\uff08369 \u884c\uff09\n\u251c\u2500 scripts/train.*.local.sh        \u2705 \u65b0\u589e\uff1a\u672c\u5730\u8bad\u7ec3/\u670d\u52a1\u5168\u5957\u811a\u672c\n\u251c\u2500 train/traj_mgr/validate_*.py    \u2705 \u65b0\u589e\uff1a\u8bad\u7ec3\u6570\u636e\u957f\u5ea6\u7edf\u8ba1\u6821\u9a8c\n\u251c\u2500 docs/guides/ts_*.md             \u2705 \u65b0\u589e\uff1aTS \u6d41\u6c34\u7ebf\u4e09\u4efd\u6587\u6863\n\u251c\u2500 WORKFLOW.md                     \u2705 \u65b0\u589e\uff1a\u5feb\u901f\u53c2\u8003\u624b\u518c\n\u2514\u2500 tsconfig.json                   \u2705 \u5df2\u6709\uff08\u4e0a\u6e38\u4ed3\u5e93\u81ea\u5e26\uff09\n</code></pre>"},{"location":"guides/ts_migration_report/#_4","title":"\u4e09\u3001\u6211\u4eec\u505a\u4e86\u54ea\u4e9b\u5de5\u4f5c","text":""},{"location":"guides/ts_migration_report/#31-typescript-profile","title":"3.1 TypeScript Profile \u4f53\u7cfb\u6784\u5efa","text":"<p>\u6587\u4ef6\uff1a<code>swesmith/profiles/typescript.py</code>\uff08457 \u884c\uff09</p> <p>SWE-smith \u901a\u8fc7 Profile \u7c7b\u5b9a\u4e49\u6bcf\u4e2a\u4ed3\u5e93\u7684\"\u8eab\u4efd\u4fe1\u606f\"\u2014\u2014Dockerfile \u6a21\u677f\u3001\u6d4b\u8bd5\u547d\u4ee4\u3001\u65e5\u5fd7\u89e3\u6790\u5668\u3001\u6587\u4ef6\u6269\u5c55\u540d\u7b49\u3002\u539f\u59cb\u9879\u76ee\u6709 Python Profile \u548c JavaScript Profile\uff0c\u4f46 TypeScript \u6709\u81ea\u8eab\u7279\u6b8a\u6027\uff0c\u4e0d\u80fd\u76f4\u63a5\u590d\u7528 JS Profile\u3002</p> <p>\u6211\u4eec\u7684\u5de5\u4f5c\uff1a</p> <ol> <li>\u8bbe\u8ba1 <code>TypeScriptProfile</code> \u57fa\u7c7b\uff0c\u7ee7\u627f <code>JavaScriptProfile</code>\uff0c\u589e\u52a0 TS \u7279\u6709\u903b\u8f91\uff1a</li> </ol> <ul> <li>\u6587\u4ef6\u6269\u5c55\u540d\u6269\u5c55\u4e3a <code>[\".ts\", \".tsx\", \".js\", \".jsx\"]</code></li> <li>\u6784\u5efa\u4ea7\u7269\u76ee\u5f55\u6392\u9664\uff08<code>lib</code>\u3001<code>.tsbuildinfo</code>\u3001<code>typings</code>\u3001<code>types</code>\u3001<code>__generated__</code>\u3001<code>esm</code>\u3001<code>cjs</code>\u3001<code>umd</code>\uff09</li> <li>\u901a\u7528\u7684\u4f9d\u8d56\u6f02\u79fb\u5904\u7406\u673a\u5236\uff08<code>skip_type_check</code> \u6807\u5fd7 + <code>get_effective_test_cmd()</code> \u6b63\u5219\u5265\u79bb\uff09</li> </ul> <ol> <li>\u624b\u5de5\u7f16\u5199 7 \u4e2a TS \u4ed3\u5e93 Profile\uff0c\u6bcf\u4e2a\u90fd\u7ecf\u8fc7\u5b9e\u9645\u9a8c\u8bc1\uff1a</li> </ol> Profile \u4ed3\u5e93 \u6d4b\u8bd5\u6846\u67b6 \u5305\u7ba1\u7406\u5668 \u7279\u6b8a\u5904\u7406 <code>ZodProfile</code> colinhacks/zod Jest (ts-jest) yarn <code>NODE_OPTIONS=--max-old-space-size=4096</code> <code>ValibotProfile</code> fabian-hiller/valibot Vitest npm \u2014 <code>SuperstructProfile</code> ianstormtaylor/superstruct Vitest npm <code>skip_type_check=True</code> <code>CheerioProfile</code> cheeriojs/cheerio Jest npm <code>./node_modules/.bin/jest</code> <code>IoTsProfile</code> gcanti/io-ts Vitest npm \u540c\u4f5c\u8005 fp-ts <code>NeverthrowProfile</code> supermacro/neverthrow Vitest npm \u2014 <code>YupProfile</code> jquense/yup Jest npm \u2014 <code>FpTsProfile</code> gcanti/fp-ts Vitest npm \u7ed5\u8fc7 dtslint \u94fe <ol> <li>\u5236\u5b9a\u6d4b\u8bd5\u547d\u4ee4\u9009\u62e9\u539f\u5219\uff08\u5199\u5165 <code>typescript.py</code> \u5934\u90e8\uff09\uff0c\u603b\u7ed3\u81ea\u5bf9 81 \u4e2a\u539f\u59cb JS Profile \u7684\u7edf\u8ba1\u5206\u6790\uff1a</li> </ol> <ul> <li>\u4f18\u5148\u7ea7 1\uff1a<code>npm run &lt;specific-test-script&gt;</code>\uff0829/81 \u4f7f\u7528\uff09</li> <li>\u4f18\u5148\u7ea7 2\uff1a<code>./node_modules/.bin/&lt;runner&gt;</code>\uff084/81 \u4f7f\u7528\uff09</li> <li>\u7981\u7528\uff1a<code>npm test</code>\uff08\u94fe\u5f0f\u547d\u4ee4\uff09\u3001<code>npx</code>\uff08\u9759\u9ed8\u4e0b\u8f7d\uff09</li> </ul>"},{"location":"guides/ts_migration_report/#32-typescript-ast","title":"3.2 TypeScript AST \u89e3\u6790\u9002\u914d\u5668","text":"<p>\u6587\u4ef6\uff1a<code>swesmith/bug_gen/adapters/typescript.py</code>\uff08271 \u884c\uff09</p> <p>SWE-smith \u7684 Bug \u751f\u6210\u4f9d\u8d56 AST \u89e3\u6790\u63d0\u53d6\u4ee3\u7801\u5b9e\u4f53\u3002Python \u4f7f\u7528\u5185\u7f6e <code>ast</code> \u6a21\u5757\u63d0\u53d6 <code>ClassDef</code>/<code>FunctionDef</code>\uff0cTypeScript \u9700\u8981\u5b8c\u5168\u4e0d\u540c\u7684\u89e3\u6790\u65b9\u6848\u3002</p> <p>\u6211\u4eec\u7684\u5de5\u4f5c\uff1a</p> <ol> <li>\u57fa\u4e8e <code>tree-sitter-typescript</code> \u5b9e\u73b0 <code>TypeScriptEntity</code> \u7c7b\uff0c\u7ee7\u627f <code>JavaScriptEntity</code>\uff1a</li> </ol> <ul> <li>\u81ea\u52a8\u533a\u5206 <code>.ts</code> \u548c <code>.tsx</code> \u6587\u4ef6\uff0c\u9009\u62e9\u5bf9\u5e94\u7684 Language parser</li> <li>\u5904\u7406 TS \u7279\u6709\u7684 <code>type_identifier</code>\uff08\u7c7b\u540d\u8282\u70b9\u7c7b\u578b\u4e0e JS \u7684 <code>identifier</code> \u4e0d\u540c\uff09</li> <li>\u5b9e\u73b0 <code>interface</code>\u3001<code>enum</code>\u3001<code>type alias</code> \u7684 name/signature/stub \u63d0\u53d6</li> </ul> <ol> <li>\u4e0e Python \u9002\u914d\u5668\u4e25\u683c\u5bf9\u9f50\u7684\u5b9e\u4f53\u6536\u96c6\u7b56\u7565\uff1a</li> </ol> <ul> <li>\u6536\u96c6\uff1a<code>function_declaration</code>\u3001<code>method_definition</code>\u3001<code>class_declaration</code>\u3001\u7bad\u5934\u51fd\u6570\uff08<code>arrow_function</code>\uff09\u3001\u51fd\u6570\u8868\u8fbe\u5f0f\uff08<code>function_expression</code>\uff09</li> <li>\u4e0d\u6536\u96c6\uff1a<code>interface_declaration</code>\u3001<code>type_alias_declaration</code>\u3001<code>enum_declaration</code>\u2014\u2014\u5b83\u4eec\u662f\u7eaf\u7c7b\u578b\u5b9a\u4e49\uff0c\u65e0\u53ef\u6267\u884c\u4ee3\u7801\u4f53\uff0c\u65e0\u6cd5\u5f15\u5165\u903b\u8f91 bug</li> </ul> <ol> <li>\u5904\u7406 TypeScript \u5e38\u89c1\u4ee3\u7801\u6a21\u5f0f\uff1a</li> </ol> <ul> <li><code>const myFunc = () =&gt; {}</code> \u2192 \u901a\u8fc7 <code>_collect_variable_functions_ts()</code> \u5904\u7406 <code>variable_declaration</code>/<code>lexical_declaration</code> \u4e2d\u7684\u7bad\u5934\u51fd\u6570</li> <li><code>module.exports.fn = function() {}</code> \u2192 \u901a\u8fc7 <code>_collect_assignment_functions_ts()</code> \u5904\u7406\u8d4b\u503c\u8868\u8fbe\u5f0f\u4e2d\u7684\u51fd\u6570</li> </ul>"},{"location":"guides/ts_migration_report/#33-typescript-bug","title":"3.3 TypeScript \u4e13\u7528 Bug \u751f\u6210\u914d\u7f6e","text":"<p>\u6587\u4ef6\uff1a<code>configs/bug_gen/ts_modify.yml</code>\uff0867 \u884c\uff09\u3001<code>configs/bug_gen/ts_rewrite.yml</code>\uff0840 \u884c\uff09</p> <p>\u6211\u4eec\u7684\u5de5\u4f5c\uff1a</p> <p>\u539f\u59cb Python \u7684 LLM Bug \u751f\u6210 Prompt \u4e2d\u6ca1\u6709\u7c7b\u578b\u7cfb\u7edf\u7ea6\u675f\uff0c\u76f4\u63a5\u7528\u4e8e TS \u4f1a\u5bfc\u81f4 LLM \u4fee\u6539\u7c7b\u578b\u6ce8\u89e3/\u63a5\u53e3\u5b9a\u4e49\uff0c\u5f15\u5165\u7f16\u8bd1\u9519\u8bef\u800c\u975e\u903b\u8f91 bug\u3002\u6211\u4eec\u521b\u5efa\u4e86 TS \u4e13\u7528\u7684 Prompt \u914d\u7f6e\uff1a</p> <ul> <li>\u5728 <code>system</code> \u4e2d\u6dfb\u52a0 TypeScript \u4e13\u5c5e\u7ea6\u675f\uff1a\u4e0d\u5f97\u4fee\u6539\u51fd\u6570\u7b7e\u540d\u3001\u53c2\u6570\u7c7b\u578b\u3001\u8fd4\u56de\u7c7b\u578b\uff1b\u4e0d\u5f97\u4fee\u6539 interface/type \u5b9a\u4e49\uff1b\u4e0d\u5f97\u589e\u5220 import\uff1b\u4fdd\u6301\u6240\u6709\u7c7b\u578b\u6ce8\u89e3\u4e0d\u53d8</li> <li>\u5728 <code>tips</code> \u4e2d\u6dfb\u52a0 TS \u4e13\u5c5e\u63d0\u793a\uff1a\u4e0d\u5f97\u5f15\u5165 TypeScript \u7f16\u8bd1\u9519\u8bef</li> <li>Bug \u793a\u4f8b\u9002\u914d\u4e3a TS \u8bed\u6cd5\u4e60\u60ef\uff1a<code>=== \u2192 !==</code>\u3001\u7a7a\u503c\u68c0\u67e5\uff08<code>null/undefined</code>\uff09\u3001\u4e09\u5143\u8fd0\u7b97\u7b26\u7b49</li> </ul>"},{"location":"guides/ts_migration_report/#34","title":"3.4 \u7aef\u5230\u7aef\u81ea\u52a8\u5316\u6d41\u6c34\u7ebf","text":"<p>\u6587\u4ef6\uff1a<code>scripts/ts_standard_pipeline.py</code>\uff08636 \u884c\uff09</p> <p>\u6211\u4eec\u7684\u5de5\u4f5c\uff1a</p> <p>SWE-smith \u539f\u59cb\u9879\u76ee\u53ea\u4e3a Python \u63d0\u4f9b\u5206\u6b65\u547d\u4ee4\uff0cTS \u9700\u8981\u4e32\u8054 7 \u4e2a\u6b65\u9aa4\u3002\u6211\u4eec\u5b9e\u73b0\u4e86\u4e00\u952e\u6267\u884c\u7684\u7aef\u5230\u7aef\u6d41\u6c34\u7ebf\uff1a</p> <pre><code>Step 1: create_mirror + build_image\n  \u2193\nStep 2: generate_bugs (procedural / llm-modify / llm-rewrite / all)\n  \u2193\nStep 3: collect_patches\n  \u2193\nStep 4: validate_f2p (Fail-to-Pass \u9a8c\u8bc1)\n  \u2193\nStep 5: gather_instances (\u6536\u96c6\u6709\u6548\u4efb\u52a1\u5b9e\u4f8b + \u63a8\u9001\u5206\u652f)\n  \u2193\nStep 6: generate_issue_text (LLM / static / tests / pr / skip)\n  \u2193\nStep 7: \u8f93\u51fa\u6700\u7ec8\u6570\u636e\u96c6 \u2192 logs/agent_datasets/&lt;repo&gt;_final.json\n</code></pre> <p>\u652f\u6301 20+ \u53c2\u6570\u63a7\u5236\uff0c\u5305\u62ec bug \u751f\u6210\u65b9\u6cd5\u9009\u62e9\u3001LLM \u6a21\u578b\u6307\u5b9a\u3001\u5e76\u884c\u5ea6\u3001issue \u751f\u6210\u6a21\u5f0f\u7b49\u3002\u5185\u7f6e\u4e86 issue \u8f93\u51fa\u8def\u5f84\u5f52\u4e00\u5316\uff08<code>_normalize_issue_output()</code>\uff09\uff0c\u89e3\u51b3\u4e0d\u540c issue \u751f\u6210\u5668\u8f93\u51fa\u8def\u5f84\u4e0d\u4e00\u81f4\u7684\u95ee\u9898\u3002</p>"},{"location":"guides/ts_migration_report/#35-profile","title":"3.5 \u81ea\u52a8 Profile \u751f\u6210\u5668","text":"<p>\u6587\u4ef6\uff1a<code>scripts/auto_profile_ts.py</code>\uff08369 \u884c\uff09</p> <p>\u6211\u4eec\u7684\u5de5\u4f5c\uff1a</p> <p>\u624b\u5de5\u7f16\u5199\u6bcf\u4e2a\u4ed3\u5e93\u7684 Profile \u7e41\u7410\u4e14\u6613\u51fa\u9519\u3002\u6211\u4eec\u5b9e\u73b0\u4e86\u81ea\u52a8\u68c0\u6d4b\u5de5\u5177\uff1a</p> <ol> <li>\u4e34\u65f6 clone \u76ee\u6807\u4ed3\u5e93</li> <li>\u8bfb\u53d6 <code>package.json</code>\uff0c\u68c0\u6d4b\u5305\u7ba1\u7406\u5668\uff08npm/yarn/pnpm/bun\uff09</li> <li>\u5206\u6790 <code>devDependencies</code> + <code>scripts</code>\uff0c\u6309\u4f18\u5148\u7ea7\u68c0\u6d4b\u6d4b\u8bd5\u6846\u67b6\uff08Vitest \u2192 Jest \u2192 Mocha \u2192 Ava \u2192 node:test\uff09</li> <li>\u751f\u6210\u5b89\u5168\u7684\u6d4b\u8bd5\u547d\u4ee4\uff08\u8fc7\u6ee4\u542b <code>&amp;&amp;</code> \u7684\u94fe\u5f0f\u547d\u4ee4\uff0c\u907f\u514d <code>npx</code>\uff09</li> <li>\u81ea\u52a8\u9009\u62e9\u6b63\u786e\u7684 <code>log_parser</code>\uff08<code>parse_log_jest</code>/<code>parse_log_vitest</code>/<code>parse_log_mocha</code>\uff09</li> <li>\u8f93\u51fa\u5230 <code>swesmith/profiles/generated/</code> \u76ee\u5f55</li> <li>\u652f\u6301 <code>--run</code> \u76f4\u63a5\u63a5\u5165\u5b8c\u6574\u6d41\u6c34\u7ebf\u3001<code>--dry-run</code> \u53ea\u9884\u89c8\u4e0d\u5199\u5165</li> </ol>"},{"location":"guides/ts_migration_report/#36-swe-agent","title":"3.6 SWE-agent \u914d\u7f6e\u9002\u914d","text":"<p>\u6587\u4ef6\uff1a<code>agent/swesmith_gen_glm_ts.yaml</code>\u3001<code>agent/swesmith_infer_ts.yaml</code></p> <p>\u6211\u4eec\u7684\u5de5\u4f5c\uff1a</p> <ol> <li>\u521b\u5efa TS \u8f68\u8ff9\u751f\u6210\u914d\u7f6e\uff08<code>swesmith_gen_glm_ts.yaml</code>\uff09\uff1a</li> </ol> <ul> <li>\u5c06 instance_template \u4e2d\u7684 \"Python repository\" \u66ff\u6362\u4e3a \"TypeScript code repository\"</li> <li>\u63d0\u793a\u6587\u5b57\u6539\u4e3a <code>node &lt;filename.js&gt;</code> \u6216\u4ed3\u5e93\u7684\u6d4b\u8bd5\u547d\u4ee4</li> <li>review_on_submit \u4e2d\u7684 <code>git checkout -- /path/to/test/file.py</code> \u6539\u4e3a <code>.ts</code></li> <li>\u914d\u7f6e\u4ee3\u7406\u53d8\u91cf\u900f\u4f20\uff08<code>propagate_env_variables</code>\uff09</li> <li>\u4f7f\u7528 <code>function_calling</code> \u89e3\u6790\u6a21\u5f0f</li> <li>\u63a5\u5165 GLM-4.6 \u6a21\u578b\uff08BigModel/ZAI provider via LiteLLM\uff09</li> </ul> <ol> <li>\u521b\u5efa TS \u63a8\u7406\u8bc4\u6d4b\u914d\u7f6e\uff08<code>swesmith_infer_ts.yaml</code>\uff09\uff1a</li> </ol> <ul> <li>\u4f7f\u7528 <code>xml_function_calling</code> \u89e3\u6790\u6a21\u5f0f\uff08\u7ed5\u8fc7 API \u4ee3\u7406\u4e0d\u652f\u6301 <code>tools</code> \u5b57\u6bb5\u7684\u95ee\u9898\uff09</li> <li>\u5c06\u5de5\u5177\u5b9a\u4e49\u4ee5 XML \u6807\u7b7e\u5d4c\u5165 system prompt</li> <li>\u914d\u7f6e <code>last_n_observations: 5</code> \u7684\u5386\u53f2\u7ba1\u7406\u7b56\u7565</li> </ul>"},{"location":"guides/ts_migration_report/#37-docker","title":"3.7 Docker \u7f51\u7edc\u4e0e\u4ee3\u7406\u65b9\u6848","text":"<p>\u6587\u4ef6\uff1a<code>agent/_gen_trajs.sh</code>\uff08231 \u884c\uff0c\u5176\u4e2d\u7ea6 130 \u884c\u4e3a\u4ee3\u7406\u76f8\u5173\u903b\u8f91\uff09</p> <p>\u6211\u4eec\u7684\u5de5\u4f5c\uff1a</p> <p>SWE-agent \u5728 Docker \u5bb9\u5668\u5185\u8fd0\u884c\uff0c\u5bb9\u5668\u9700\u8bbf\u95ee GitHub \u7b49\u5916\u90e8\u670d\u52a1\u3002\u6211\u4eec\u5b9e\u73b0\u4e86\u5b8c\u6574\u7684\u4ee3\u7406\u9884\u68c0\u548c\u964d\u7ea7\u65b9\u6848\uff1a</p> <ol> <li> <p>socat \u8f6c\u53d1\u65b9\u6848\uff1a\u5bbf\u4e3b\u673a\u4ee3\u7406\u76d1\u542c localhost\uff0c\u901a\u8fc7 socat \u8f6c\u53d1\u5230 Docker \u7f51\u6865\u5730\u5740 <code>172.17.0.1:10819</code>\uff0c\u5bb9\u5668\u5185\u8bbe\u7f6e <code>HTTP_PROXY=http://172.17.0.1:10819</code></p> </li> <li> <p>\u4ee3\u7406\u9884\u68c0\u673a\u5236\uff08\u542f\u52a8\u524d\u81ea\u52a8\u6267\u884c\uff09\uff1a    - TCP \u7aef\u53e3\u53ef\u8fbe\u6027\u68c0\u6d4b    - Docker \u7f51\u6865\u7f51\u5173\u8fde\u901a\u6027\u9a8c\u8bc1    - SOCKS \u4ee3\u7406 + socksio \u4f9d\u8d56\u68c0\u6d4b    - \u5931\u8d25\u65f6\u7ed9\u51fa\u5177\u4f53\u4fee\u590d\u5efa\u8bae\uff08\u800c\u975e\u9759\u9ed8\u5931\u8d25\uff09</p> </li> <li> <p>SOCKS \u4ee3\u7406\u667a\u80fd\u964d\u7ea7\uff1a\u5f53 <code>ALL_PROXY</code> \u4e3a SOCKS \u534f\u8bae\u4f46 <code>socksio</code> \u672a\u5b89\u88c5\u65f6\uff0c\u81ea\u52a8 fallback \u5230 <code>HTTP_PROXY</code>/<code>HTTPS_PROXY</code></p> </li> <li> <p>\u8f68\u8ff9\u751f\u6210\u540e\u68c0\uff1a\u68c0\u67e5 <code>.pred</code> \u6587\u4ef6\u6570\u91cf\u3001\u89e3\u6790 <code>run_batch_exit_statuses.yaml</code>\u3001\u9a8c\u8bc1 <code>preds.json</code> \u4e2d\u975e\u7a7a patch \u6bd4\u4f8b</p> </li> </ol>"},{"location":"guides/ts_migration_report/#38","title":"3.8 \u672c\u5730\u8bad\u7ec3\u4e0e\u670d\u52a1\u90e8\u7f72\u5168\u94fe\u8def","text":"<p>SWE-smith \u539f\u59cb\u8bbe\u8ba1\u4f9d\u8d56 Modal \u4e91\u5e73\u53f0\u3002\u6211\u4eec\u7684\u73af\u5883\u65e0\u6cd5\u4f7f\u7528 Modal\uff0c\u9700\u8981\u5b8c\u5168\u672c\u5730\u5316\u3002</p> <p>\u6211\u4eec\u7684\u5de5\u4f5c\uff1a</p> <ol> <li>\u8f68\u8ff9\u8f6c SFT\uff08<code>scripts/train.prepare_sft_local.sh</code>\uff09\uff1a</li> </ol> <ul> <li>\u5c01\u88c5 <code>swesmith.train.traj_mgr.collect_trajs</code></li> <li>\u652f\u6301\u53ef\u9009\u7684\u957f\u5ea6\u7edf\u8ba1\u6821\u9a8c\uff08<code>STATS_FILE</code>\uff09</li> <li>\u9ed8\u8ba4\u8f93\u51fa\u5230 <code>trajectories_sft/</code></li> </ul> <ol> <li>Resolved-only \u8fc7\u6ee4\uff1a</li> </ol> <ul> <li>\u4ece <code>report.json</code> \u7684 <code>ids_resolved</code> \u5b57\u6bb5\u7b5b\u9009\u6210\u529f\u4fee\u590d\u7684\u8f68\u8ff9</li> <li>\u4ea7\u51fa <code>.resolved_only.xml.jsonl</code>\uff0c\u4ec5\u5305\u542b\u9ad8\u8d28\u91cf\u8bad\u7ec3\u6570\u636e</li> </ul> <ol> <li>\u672c\u5730\u8bad\u7ec3\u914d\u7f6e\uff08<code>configs/train/full_ft_qwen_7b_local.yml</code>\uff09\uff1a</li> </ol> <ul> <li>\u6a21\u578b\uff1aQwen2.5-Coder-7B-Instruct</li> <li>\u6570\u636e\uff1aresolved-only \u8f68\u8ff9</li> <li>\u53c2\u6570\uff1a<code>max_seq_len=32768</code>\uff0c<code>batch_size=1</code>\uff0c<code>gradient_accumulation=4</code>\uff0c<code>epochs=3</code>\uff0c<code>lr=1e-4</code>\uff0c<code>warmup=5</code>\uff0c<code>bf16</code>\uff0c<code>activation_checkpointing</code></li> <li>\u65e5\u5fd7\uff1aWandB</li> </ul> <ol> <li>\u672c\u5730\u8bad\u7ec3\u542f\u52a8\u811a\u672c\uff08<code>scripts/train.run_ft_torchtune.local.sh</code>\uff09\uff1a</li> </ol> <ul> <li>\u8bad\u7ec3\u524d\u81ea\u52a8\u6821\u9a8c\uff1atokenizer \u8def\u5f84\u3001checkpoint \u8def\u5f84\u3001\u6570\u636e\u6587\u4ef6\u8def\u5f84\u3001\u6743\u91cd\u5206\u7247\u5b8c\u6574\u6027</li> <li>\u8bad\u7ec3\u524d\u957f\u5ea6\u7edf\u8ba1\u4e00\u81f4\u6027\u6821\u9a8c\uff08\u53ef\u901a\u8fc7 <code>LEN_STATS_FILE=\"\"</code> \u8df3\u8fc7\uff09</li> <li>\u8c03\u7528 <code>tune run --nnodes 1 --nproc_per_node $N_GPUS full_finetune_distributed</code></li> </ul> <ol> <li>\u672c\u5730 SGLang \u63a8\u7406\u670d\u52a1\uff08<code>scripts/train.serve_sglang.local.sh</code>\uff09\uff1a</li> </ol> <ul> <li>\u81ea\u52a8\u68c0\u6d4b conda \u7f16\u8bd1\u5668\u5e76\u8bbe\u7f6e <code>CC</code>/<code>CXX</code>/<code>CUDAHOSTCXX</code>/<code>NVCC_PREPEND_FLAGS</code>\uff08\u89e3\u51b3 nvcc \u4e0e\u7cfb\u7edf g++ \u4e0d\u517c\u5bb9\u95ee\u9898\uff09</li> <li>\u81ea\u52a8\u91cd\u5b9a\u5411\u6784\u5efa\u7f13\u5b58\u548c\u4e34\u65f6\u6587\u4ef6\u5230 <code>/data</code> \u5206\u533a\uff08\u907f\u514d\u6839\u5206\u533a\u7a7a\u95f4\u4e0d\u8db3\uff09</li> <li>\u81ea\u52a8\u8865\u5168 checkpoint \u76ee\u5f55\u4e2d\u7f3a\u5931\u7684 <code>config.json</code></li> </ul> <ol> <li>\u8bad\u7ec3\u6570\u636e\u957f\u5ea6\u7edf\u8ba1\u5de5\u5177\uff08<code>swesmith/train/traj_mgr/validate_len_stats.py</code>\uff09\uff1a</li> </ol> <ul> <li>\u6821\u9a8c\u6570\u636e\u6587\u4ef6\u8def\u5f84\u3001\u6837\u672c\u6570\u91cf\u4e0e stats \u6e05\u5355\u4e00\u81f4</li> <li>\u62a5\u544a\u8d85\u8fc7 <code>max_seq_len</code> \u9608\u503c\u7684\u6570\u636e\u6bd4\u4f8b</li> </ul> <ol> <li>\u811a\u672c\u547d\u540d\u89c4\u8303\u5316\uff1a</li> </ol> <ul> <li>\u7edf\u4e00\u4f7f\u7528 <code>snake_case</code> \u547d\u540d\uff08<code>train_prepare_sft_local.sh</code>\u3001<code>train_run_ft_torchtune_local.sh</code>\u3001<code>train_serve_sglang_local.sh</code>\uff09</li> <li>\u65e7\u7684\u70b9\u5206\u547d\u540d\u4fdd\u7559\u4e3a\u517c\u5bb9\u5165\u53e3\uff08\u4ec5 <code>exec</code> \u8f6c\u53d1\uff09</li> </ul>"},{"location":"guides/ts_migration_report/#39","title":"3.9 \u4e09\u6bb5\u5f0f\u6d41\u6c34\u7ebf\u6587\u6863\u4f53\u7cfb","text":"<p>\u6587\u4ef6\uff1a</p> <ul> <li><code>docs/guides/ts_pipeline_overview.md</code>\uff0865 \u884c\uff09\u2014\u2014\u7aef\u5230\u7aef\u6d41\u7a0b\u6982\u89c8 + Mermaid \u6d41\u7a0b\u56fe</li> <li><code>docs/guides/ts_three_pipelines.md</code>\uff08334 \u884c\uff09\u2014\u2014\u4e09\u6bb5\u5f0f\u53ef\u590d\u5236\u6267\u884c\u7684\u64cd\u4f5c\u624b\u518c</li> <li><code>docs/guides/train_swe_agent.md</code>\u2014\u2014\u5b8c\u6574\u8bad\u7ec3\u6307\u5357\uff08\u542b\u672c\u5730\u8bad\u7ec3\u7ae0\u8282\uff09</li> <li><code>WORKFLOW.md</code>\u2014\u2014\u65e5\u5e38\u64cd\u4f5c\u901f\u67e5\u5361</li> </ul>"},{"location":"guides/ts_migration_report/#_5","title":"\u56db\u3001\u8e29\u5751\u8bb0\u5f55\u4e0e\u89e3\u51b3\u65b9\u6848","text":""},{"location":"guides/ts_migration_report/#41","title":"4.1 \u8bed\u8a00\u5c42\u9762\u7684\u5751","text":""},{"location":"guides/ts_migration_report/#1npm-test","title":"\u5751 1\uff1a<code>npm test</code> \u94fe\u5f0f\u547d\u4ee4\u5bfc\u81f4\u5168\u90e8\u5931\u8d25","text":"\u9879\u76ee \u8be6\u60c5 \u73b0\u8c61 \u5bf9 TS \u4ed3\u5e93\u6267\u884c <code>npm test --verbose</code>\uff0c\u5373\u4f7f\u6240\u6709\u6d4b\u8bd5\u901a\u8fc7\u4e5f\u62a5\u5931\u8d25 \u6839\u56e0 TS \u4ed3\u5e93\u7684 <code>npm test</code> \u51e0\u4e4e\u90fd\u662f\u94fe\u5f0f\u547d\u4ee4\uff08\u5982 fp-ts \u7684 <code>lint &amp;&amp; prettier &amp;&amp; dtslint &amp;&amp; vitest &amp;&amp; docs</code>\uff09\uff0c\u975e\u6d4b\u8bd5\u6b65\u9aa4\uff08lint\u3001dtslint\u3001docs \u6784\u5efa\uff09\u5931\u8d25\u4f1a\u4e2d\u65ad\u6574\u6761\u94fe \u5f71\u54cd Bug \u9a8c\u8bc1\uff08F2P\uff09\u5168\u90e8\u8bef\u5224\u4e3a\u65e0\u6548\uff0c\u65e0\u6cd5\u751f\u6210\u4efb\u4f55\u6709\u6548\u4efb\u52a1\u5b9e\u4f8b \u89e3\u51b3 \u5206\u6790 81 \u4e2a\u539f\u59cb JS Profile \u7684\u6d4b\u8bd5\u547d\u4ee4\u6a21\u5f0f\uff0c\u5236\u5b9a\u4e09\u7ea7\u4f18\u5148\u7ea7\u7b56\u7565\uff0c\u9009\u62e9\u76f4\u63a5\u8c03\u7528\u6d4b\u8bd5\u8fd0\u884c\u5668\u7684\u7eaf\u811a\u672c\uff08\u5982 <code>npm run vitest</code>\uff09\u6216\u672c\u5730\u4e8c\u8fdb\u5236\uff08\u5982 <code>./node_modules/.bin/jest</code>\uff09 \u4ee3\u7801 <code>swesmith/profiles/typescript.py</code> \u5934\u90e8\u6ce8\u91ca + \u6bcf\u4e2a Profile \u7684 <code>test_cmd</code> \u5b9a\u4e49"},{"location":"guides/ts_migration_report/#2","title":"\u5751 2\uff1a\u4f9d\u8d56\u6f02\u79fb\u5bfc\u81f4\u7c7b\u578b\u68c0\u67e5\u5931\u8d25","text":"\u9879\u76ee \u8be6\u60c5 \u73b0\u8c61 <code>superstruct</code> \u4ed3\u5e93 Docker \u6784\u5efa\u540e\uff0c<code>tsc --noEmit</code> \u62a5\u9519 <code>Cannot find name 'ESNext.Disposable'</code> \u6839\u56e0 \u4ed3\u5e93\u7f3a\u5c11 <code>package-lock.json</code>\uff0c<code>npm install</code> \u65f6 <code>@types/expect</code> \u95f4\u63a5\u62c9\u5165\u6700\u65b0 <code>jest-mock</code>\uff08\u8981\u6c42 TS 5.2+\uff09\uff0c\u4f46\u4ed3\u5e93\u9501\u5b9a TS 4.8 \u5f71\u54cd \u542b <code>tsc</code> \u6b65\u9aa4\u7684\u6d4b\u8bd5\u547d\u4ee4\u5168\u90e8\u5931\u8d25 \u89e3\u51b3 \u8bbe\u8ba1 <code>skip_type_check</code> \u901a\u7528\u6807\u5fd7 + <code>get_effective_test_cmd()</code> \u6b63\u5219\u5265\u79bb\u65b9\u6cd5\uff0c\u81ea\u52a8\u4ece <code>test_cmd</code> \u4e2d\u79fb\u9664\u7c7b\u578b\u68c0\u67e5\u6b65\u9aa4 \u4ee3\u7801 <code>TypeScriptProfile.get_effective_test_cmd()</code>\uff086 \u6761\u6b63\u5219\u6a21\u5f0f\u5339\u914d + \u6e05\u7406\u903b\u8f91\uff09"},{"location":"guides/ts_migration_report/#3typescript-ast-type_identifier-identifier","title":"\u5751 3\uff1aTypeScript AST \u4e2d\u7c7b\u540d\u4f7f\u7528 <code>type_identifier</code> \u800c\u975e <code>identifier</code>","text":"\u9879\u76ee \u8be6\u60c5 \u73b0\u8c61 \u63d0\u53d6 TS \u7c7b\u7684\u5b9e\u4f53\u540d\u79f0\u65f6\u8fd4\u56de <code>None</code> \u6839\u56e0 tree-sitter-typescript \u4e2d <code>class_declaration</code> \u7684\u5b50\u8282\u70b9\u7528 <code>type_identifier</code> \u8868\u793a\u7c7b\u540d\uff0c\u800c JavaScript \u7528 <code>identifier</code> \u89e3\u51b3 \u5728 <code>TypeScriptEntity.name</code> \u5c5e\u6027\u4e2d\u6dfb\u52a0 <code>class_declaration \u2192 type_identifier</code> \u7684\u7279\u6b8a\u5904\u7406 \u4ee3\u7801 <code>swesmith/bug_gen/adapters/typescript.py</code> \u7b2c 86-87 \u884c"},{"location":"guides/ts_migration_report/#4llm-bug","title":"\u5751 4\uff1aLLM \u751f\u6210\u7684 Bug \u4fee\u6539\u7c7b\u578b\u6ce8\u89e3\u5bfc\u81f4\u7f16\u8bd1\u9519\u8bef","text":"\u9879\u76ee \u8be6\u60c5 \u73b0\u8c61 LLM modify \u751f\u6210\u7684 bug diff \u4e2d\u4fee\u6539\u4e86\u51fd\u6570\u7b7e\u540d\u7684\u7c7b\u578b\u6ce8\u89e3\uff0c\u5e94\u7528\u540e <code>tsc</code> \u7f16\u8bd1\u5931\u8d25\uff0cF2P \u9a8c\u8bc1\u65e0\u6cd5\u901a\u8fc7 \u6839\u56e0 \u539f\u59cb Python \u7684 <code>lm_modify.yml</code> Prompt \u6ca1\u6709\u7c7b\u578b\u7cfb\u7edf\u76f8\u5173\u7ea6\u675f \u89e3\u51b3 \u521b\u5efa <code>ts_modify.yml</code> \u548c <code>ts_rewrite.yml</code>\uff0c\u5728 system prompt \u4e2d\u6dfb\u52a0 4 \u6761 TypeScript \u4e13\u5c5e\u7ea6\u675f \u4ee3\u7801 <code>configs/bug_gen/ts_modify.yml</code> \u7b2c 41-45 \u884c"},{"location":"guides/ts_migration_report/#5interfacetypeenum-bug","title":"\u5751 5\uff1a\u7eaf\u7c7b\u578b\u5b9a\u4e49\uff08interface/type/enum\uff09\u88ab\u9519\u8bef\u6536\u96c6\u4e3a bug \u751f\u6210\u5b9e\u4f53","text":"\u9879\u76ee \u8be6\u60c5 \u73b0\u8c61 LLM \u88ab\u8981\u6c42\u4fee\u6539 <code>interface User { ... }</code> \u5f15\u5165 bug\uff0c\u4f46 interface \u6ca1\u6709\u53ef\u6267\u884c\u4ee3\u7801\uff0c\u65e0\u6cd5\u901a\u8fc7\u6d4b\u8bd5\u9a8c\u8bc1 \u6839\u56e0 \u6700\u521d\u7684\u5b9e\u73b0\u6536\u96c6\u4e86\u6240\u6709 TS AST \u9876\u5c42\u8282\u70b9\uff0c\u5305\u62ec\u7eaf\u7c7b\u578b\u5b9a\u4e49 \u89e3\u51b3 \u4e0e Python \u9002\u914d\u5668\u5bf9\u9f50\u2014\u2014\u53ea\u6536\u96c6\u6709\u53ef\u6267\u884c\u4ee3\u7801\u4f53\u7684\u5b9e\u4f53\uff08function\u3001method\u3001class\uff09\uff0c\u6392\u9664 interface/type alias/enum \u4ee3\u7801 <code>swesmith/bug_gen/adapters/typescript.py</code> \u7b2c 208-212 \u884c"},{"location":"guides/ts_migration_report/#42","title":"4.2 \u914d\u7f6e\u5c42\u9762\u7684\u5751","text":""},{"location":"guides/ts_migration_report/#6api-tools","title":"\u5751 6\uff1aAPI \u4ee3\u7406\u4e0d\u652f\u6301 <code>tools</code> \u5b57\u6bb5","text":"\u9879\u76ee \u8be6\u60c5 \u73b0\u8c61 SWE-agent \u4f7f\u7528 <code>function_calling</code> \u6a21\u5f0f\u65f6\uff0cGLM API \u4ee3\u7406\u8fd4\u56de 400 \u9519\u8bef \u6839\u56e0 \u90e8\u5206 API \u4ee3\u7406\uff08\u975e OpenAI \u539f\u751f\uff09\u4e0d\u652f\u6301\u8bf7\u6c42\u4f53\u4e2d\u7684 <code>tools</code> \u5b57\u6bb5 \u89e3\u51b3 \u521b\u5efa\u4e24\u5957\u914d\u7f6e\uff1a<code>function_calling</code>\uff08\u539f\u751f API\uff09\u548c <code>xml_function_calling</code>\uff08\u5de5\u5177\u5b9a\u4e49\u5d4c\u5165 system prompt\uff09 \u4ee3\u7801 <code>agent/swesmith_infer_ts.yaml</code> \u4f7f\u7528 <code>xml_function_calling</code>"},{"location":"guides/ts_migration_report/#7issue","title":"\u5751 7\uff1aIssue \u8f93\u51fa\u8def\u5f84\u4e0d\u7edf\u4e00","text":"\u9879\u76ee \u8be6\u60c5 \u73b0\u8c61 \u6d41\u6c34\u7ebf\u5728 Step 6 \u540e\u627e\u4e0d\u5230 issue \u8f93\u51fa\u6587\u4ef6 \u6839\u56e0 <code>get_static.py</code>/<code>get_from_pr.py</code> \u8f93\u51fa\u5230 <code>logs/task_insts/</code>\uff0c<code>generate.py</code> \u8f93\u51fa\u5230 <code>logs/issue_gen/</code>\uff0c\u8def\u5f84\u4e0d\u7edf\u4e00 \u89e3\u51b3 <code>ts_standard_pipeline.py</code> \u4e2d\u5b9e\u73b0 <code>_normalize_issue_output()</code> \u7edf\u4e00\u5f52\u4e00\u5316\u5230 <code>logs/issue_gen/</code>\uff0c\u81ea\u52a8\u68c0\u6d4b\u65e7\u8def\u5f84\u5e76\u590d\u5236 \u4ee3\u7801 <code>scripts/ts_standard_pipeline.py</code> \u7b2c 344-365 \u884c"},{"location":"guides/ts_migration_report/#8","title":"\u5751 8\uff1a\u811a\u672c\u547d\u540d\u6df7\u4e71","text":"\u9879\u76ee \u8be6\u60c5 \u73b0\u8c61 \u6587\u6863\u4e2d\u5f15\u7528 <code>train_prepare_sft_local.sh</code>\uff0c\u5b9e\u9645\u6587\u4ef6\u540d\u662f <code>train.prepare_sft_local.sh</code>\uff0c\u547d\u4ee4\u6267\u884c\u5931\u8d25 \u6839\u56e0 \u4ed3\u5e93\u4e2d\u5b58\u5728\u4e24\u79cd\u547d\u540d\u98ce\u683c\uff08\u65e7\u5f0f\u70b9\u5206 vs \u65b0\u5f0f snake_case\uff09 \u89e3\u51b3 \u7edf\u4e00\u4f7f\u7528 <code>snake_case</code> \u547d\u540d\uff0c\u65e7\u6587\u4ef6\u4fdd\u7559\u4e3a\u4ec5 <code>exec</code> \u8f6c\u53d1\u7684\u517c\u5bb9\u5165\u53e3 \u4ee3\u7801 <code>scripts/train_prepare_sft_local.sh</code> \u7b49 3 \u4e2a\u8f6c\u53d1\u811a\u672c"},{"location":"guides/ts_migration_report/#43","title":"4.3 \u6027\u80fd\u4e0e\u6570\u636e\u5c42\u9762\u7684\u5751","text":""},{"location":"guides/ts_migration_report/#970-32k-token","title":"\u5751 9\uff1a70% \u8f68\u8ff9\u8d85\u8fc7 32K token \u4e0a\u4e0b\u6587\u9650\u5236","text":"\u9879\u76ee \u8be6\u60c5 \u73b0\u8c61 394 \u6761 SWE-agent \u8f68\u8ff9\u4e2d\u4ec5 114 \u6761\uff0829%\uff09\u5728 32K context length \u4ee5\u5185 \u6839\u56e0 SWE-agent \u7684\u8f68\u8ff9\u5305\u542b\u5b8c\u6574\u7684\u591a\u8f6e\u5bf9\u8bdd\u5386\u53f2\uff08\u89c2\u6d4b\u7ed3\u679c\u3001\u5de5\u5177\u8c03\u7528\u3001\u4ee3\u7801\u6587\u4ef6\u5185\u5bb9\uff09\uff0c\u5355\u6761\u8f68\u8ff9\u5f88\u5bb9\u6613\u8d85 32K \u4e0a\u6e38\u72b6\u6001 SWE-smith \u5b98\u65b9 Issue #21 \u672a\u7ed9\u51fa\u8bad\u7ec3\u65f6\u622a\u65ad\u65b9\u6848\uff1bSWE-agent \u4ec5\u5728\u63a8\u7406\u65f6\u4f7f\u7528 <code>last_n_observations</code> \u622a\u65ad\u5386\u53f2\uff0c\u5bfc\u51fa\u6570\u636e\u662f\u5168\u91cf\u7684 \u89e3\u51b3 \u91c7\u7528 <code>keep_all_truncate</code> \u7b56\u7565\u2014\u2014\u4fdd\u7559\u5168\u90e8\u6570\u636e\uff0c\u7531 TorchTune tokenizer \u6309 <code>max_seq_len=32768</code> \u81ea\u52a8\u622a\u65ad\u8d85\u957f\u5e8f\u5217\uff1b\u540c\u65f6\u521b\u5efa <code>validate_len_stats.py</code> \u5de5\u5177\u5728\u8bad\u7ec3\u524d\u62a5\u544a\u8d85\u957f\u6bd4\u4f8b \u4ee3\u7801 <code>configs/train/full_ft_qwen_7b_local.yml</code> \u7684 <code>max_seq_len: 32768</code> + <code>packed: False</code>"},{"location":"guides/ts_migration_report/#10","title":"\u5751 10\uff1a\u5931\u8d25\u8f68\u8ff9\u6df7\u5165\u8bad\u7ec3\u6570\u636e","text":"\u9879\u76ee \u8be6\u60c5 \u73b0\u8c61 SFT \u6570\u636e\u5305\u542b\u5927\u91cf\u672a\u6210\u529f\u4fee\u590d\u95ee\u9898\u7684\u8f68\u8ff9\uff0c\u6a21\u578b\u5b66\u4e60\u5230\u9519\u8bef\u7684\u884c\u4e3a\u6a21\u5f0f \u6839\u56e0 \u8f68\u8ff9\u8f6c\u6362\u811a\u672c\u9ed8\u8ba4\u5bfc\u51fa\u6240\u6709\u8f68\u8ff9\uff0c\u4e0d\u533a\u5206\u6210\u529f/\u5931\u8d25 \u89e3\u51b3 \u589e\u52a0 Resolved-only \u8fc7\u6ee4\u6b65\u9aa4\u2014\u2014\u4ece <code>report.json</code> \u8bfb\u53d6 <code>ids_resolved</code>\uff0c\u53ea\u4fdd\u7559\u6210\u529f\u4fee\u590d\u7684\u8f68\u8ff9 \u4ee3\u7801 <code>docs/guides/ts_three_pipelines.md</code> \u7b2c 2.4 \u8282\u7684\u5185\u8054 Python \u811a\u672c"},{"location":"guides/ts_migration_report/#11zod-jest-oom","title":"\u5751 11\uff1aZod Jest \u6d4b\u8bd5 OOM","text":"\u9879\u76ee \u8be6\u60c5 \u73b0\u8c61 Zod \u4ed3\u5e93\u7684 Jest \u6d4b\u8bd5\u5728 Docker \u5bb9\u5668\u4e2d\u56e0\u5185\u5b58\u4e0d\u8db3\u88ab kill \u6839\u56e0 ts-jest \u7f16\u8bd1 + Jest \u5e76\u884c\u6d4b\u8bd5\u6d88\u8017\u5927\u91cf\u5185\u5b58\uff0c\u9ed8\u8ba4 Node.js \u5806\u5927\u5c0f\u4e0d\u591f \u89e3\u51b3 \u5728 <code>ZodProfile.test_cmd</code> \u4e2d\u8bbe\u7f6e <code>NODE_OPTIONS=--max-old-space-size=4096</code>\uff0c\u5e76\u5728 <code>_gen_trajs.sh</code> \u4e2d\u901a\u8fc7 <code>--memory=10g</code> \u9650\u5236\u5bb9\u5668\u5185\u5b58 \u4ee3\u7801 <code>swesmith/profiles/typescript.py</code> \u7b2c 196 \u884c"},{"location":"guides/ts_migration_report/#44","title":"4.4 \u90e8\u7f72\u5c42\u9762\u7684\u5751","text":""},{"location":"guides/ts_migration_report/#12docker","title":"\u5751 12\uff1aDocker \u5bb9\u5668\u65e0\u6cd5\u8bbf\u95ee\u5bbf\u4e3b\u673a\u4ee3\u7406","text":"\u9879\u76ee \u8be6\u60c5 \u73b0\u8c61 SWE-agent \u5bb9\u5668\u5185 <code>git clone</code> \u8d85\u65f6\uff0c\u65e0\u6cd5\u8bbf\u95ee GitHub \u6839\u56e0 \u5bbf\u4e3b\u673a\u4ee3\u7406\u76d1\u542c <code>localhost</code>\uff0c\u5bb9\u5668\u5185 <code>localhost</code> \u6307\u5411\u5bb9\u5668\u81ea\u8eab\uff0c\u4e24\u8005\u7f51\u7edc\u547d\u540d\u7a7a\u95f4\u9694\u79bb \u89e3\u51b3 \u4f7f\u7528 socat \u5c06\u4ee3\u7406\u8f6c\u53d1\u5230 Docker \u7f51\u6865\u5730\u5740 <code>172.17.0.1:10819</code>\uff0c\u5728 Agent \u914d\u7f6e\u4e2d\u901a\u8fc7 <code>propagate_env_variables</code> \u6ce8\u5165\u4ee3\u7406\u73af\u5883\u53d8\u91cf \u4ee3\u7801 <code>agent/swesmith_gen_glm_ts.yaml</code> \u7b2c 38-46 \u884c\uff1b<code>agent/_gen_trajs.sh</code> \u7b2c 65-161 \u884c <p>\u95ee\u9898\u62d3\u6251\uff1a</p> <pre><code>\u5bbf\u4e3b\u673a 127.0.0.1:7890 (\u4ee3\u7406)         Docker \u5bb9\u5668 127.0.0.1 (\u5bb9\u5668\u81ea\u8eab)\n        \u2191 \u5bb9\u5668\u65e0\u6cd5\u5230\u8fbe                         \u2191 \u6307\u5411\u81ea\u5df1\uff0c\u65e0\u4ee3\u7406\n</code></pre> <p>Docker \u5bb9\u5668\u6709\u72ec\u7acb\u7684\u7f51\u7edc\u547d\u540d\u7a7a\u95f4\uff0c\u5bb9\u5668\u5185 <code>127.0.0.1</code> \u662f\u5bb9\u5668\u81ea\u5df1\u7684 loopback\uff0c\u4e0d\u662f\u5bbf\u4e3b\u673a\u3002 \u5bbf\u4e3b\u673a\u4ee3\u7406\u53ea\u7ed1\u5b9a\u4e86 <code>127.0.0.1</code>\uff0c\u4e0d\u63a5\u53d7\u6765\u81ea Docker \u7f51\u6865\uff08<code>172.17.0.1</code>\uff09\u7684\u8fde\u63a5\u3002 \u56e0\u6b64\u5bb9\u5668\u5185\u65e0\u8bba\u8bbe <code>127.0.0.1:7890</code> \u8fd8\u662f <code>172.17.0.1:7890</code>\uff0c\u90fd\u8fde\u4e0d\u4e0a\u4ee3\u7406\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\u2014\u2014socat \u7aef\u53e3\u8f6c\u53d1\uff0c\u5206\u4e09\u6b65\uff1a</p> <p>Step 1\uff1a\u5728\u5bbf\u4e3b\u673a\u542f\u52a8 socat \u505a\u6865\u63a5</p> <pre><code># \u76d1\u542c Docker \u7f51\u6865 IP \u7684 10819 \u7aef\u53e3\uff0c\u8f6c\u53d1\u5230\u672c\u673a\u4ee3\u7406 7890\nsocat TCP-LISTEN:10819,bind=172.17.0.1,reuseaddr,fork TCP:127.0.0.1:7890\n</code></pre> <ul> <li><code>bind=172.17.0.1</code>\uff1a\u7ed1\u5b9a\u5230 Docker \u9ed8\u8ba4\u7f51\u6865\u7684\u7f51\u5173\u5730\u5740\uff0c\u5bb9\u5668\u53ef\u901a\u8fc7\u6b64 IP \u8bbf\u95ee\u5bbf\u4e3b\u673a</li> <li><code>fork</code>\uff1a\u6bcf\u4e2a\u8fde\u63a5 fork \u5b50\u8fdb\u7a0b\u5904\u7406\uff0c\u652f\u6301\u5e76\u53d1</li> <li><code>TCP:127.0.0.1:7890</code>\uff1a\u5c06\u6d41\u91cf\u8f6c\u53d1\u5230\u5bbf\u4e3b\u673a\u4e0a\u5b9e\u9645\u4ee3\u7406\u7684\u76d1\u542c\u7aef\u53e3</li> </ul> <p>\u6b64\u65f6\u7f51\u7edc\u62d3\u6251\u53d8\u4e3a\uff1a</p> <pre><code>\u5bb9\u5668 \u2192 172.17.0.1:10819 \u2192 socat \u2192 127.0.0.1:7890 \u2192 \u4ee3\u7406 \u2192 \u5916\u7f51\n</code></pre> <p>Step 2\uff1a\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\uff08\u5bbf\u4e3b\u673a shell\uff09</p> <pre><code>export HTTP_PROXY=http://172.17.0.1:10819\nexport HTTPS_PROXY=http://172.17.0.1:10819\nexport ALL_PROXY=http://172.17.0.1:10819\nexport http_proxy=http://172.17.0.1:10819\nexport https_proxy=http://172.17.0.1:10819\nexport all_proxy=http://172.17.0.1:10819\nexport NO_PROXY=127.0.0.1\nexport no_proxy=127.0.0.1\n</code></pre> <p>\u5927\u5c0f\u5199\u90fd\u8981\u8bbe\uff1a<code>git</code>/<code>curl</code> \u8bfb\u5c0f\u5199\uff0c<code>httpx</code>/<code>LiteLLM</code> \u8bfb\u5927\u5199\u3002</p> <p>Step 3\uff1aAgent \u914d\u7f6e\u900f\u4f20\u53d8\u91cf\u5230\u5bb9\u5668</p> <p>SWE-agent \u542f\u52a8\u5bb9\u5668\u65f6\u9ed8\u8ba4\u4e0d\u7ee7\u627f\u5bbf\u4e3b\u673a\u73af\u5883\u53d8\u91cf\u3002 \u5728 <code>agent/swesmith_gen_glm_ts.yaml</code> \u4e2d\u914d\u7f6e <code>propagate_env_variables</code>\uff0c SWE-agent \u4f1a\u81ea\u52a8\u901a\u8fc7 <code>docker run -e HTTP_PROXY=... -e HTTPS_PROXY=...</code> \u6ce8\u5165\u3002</p> <p>Step 4\uff08\u5df2\u5185\u7f6e\uff09\uff1a<code>_gen_trajs.sh</code> \u81ea\u52a8\u9884\u68c0</p> <p>\u811a\u672c\u542f\u52a8\u65f6\u81ea\u52a8\u6267\u884c\u4e09\u5c42\u68c0\u6d4b\uff0c\u907f\u514d\u5bb9\u5668\u8dd1\u534a\u5929\u624d\u53d1\u73b0\u4ee3\u7406\u4e0d\u901a\uff1a 1. TCP \u8fde\u63a5\u68c0\u6d4b\u6bcf\u4e2a\u4ee3\u7406\u7aef\u53e3\u7684\u53ef\u8fbe\u6027 2. \u82e5\u4ee3\u7406\u5728 localhost\uff0c\u989d\u5916\u68c0\u6d4b Docker \u7f51\u6865\u7f51\u5173 <code>172.17.0.1</code> \u80fd\u5426\u8fde\u901a\u8be5\u7aef\u53e3 3. \u82e5 <code>ALL_PROXY</code> \u662f SOCKS \u534f\u8bae\u4f46 <code>socksio</code> \u672a\u5b89\u88c5\uff0c\u81ea\u52a8\u964d\u7ea7\u5230 <code>HTTP_PROXY</code></p>"},{"location":"guides/ts_migration_report/#13socks-socksio-lm","title":"\u5751 13\uff1aSOCKS \u4ee3\u7406\u7f3a\u5c11 socksio \u5bfc\u81f4 LM \u8c03\u7528\u5931\u8d25","text":"\u9879\u76ee \u8be6\u60c5 \u73b0\u8c61 <code>_gen_trajs.sh</code> \u542f\u52a8\u540e\u6240\u6709 LM API \u8c03\u7528\u62a5 <code>No module named 'socksio'</code> \u9519\u8bef \u6839\u56e0 <code>ALL_PROXY</code> \u8bbe\u7f6e\u4e3a SOCKS \u534f\u8bae\uff0c\u4f46 httpx \u7684 SOCKS \u652f\u6301\u9700\u8981 <code>socksio</code>\uff08\u672a\u9ed8\u8ba4\u5b89\u88c5\uff09 \u89e3\u51b3 \u5728\u542f\u52a8\u811a\u672c\u4e2d\u68c0\u6d4b SOCKS \u534f\u8bae + socksio \u53ef\u7528\u6027\uff0c\u4e0d\u53ef\u7528\u65f6\u81ea\u52a8 fallback \u5230 HTTP_PROXY \u4ee3\u7801 <code>agent/_gen_trajs.sh</code> \u7b2c 37-57 \u884c"},{"location":"guides/ts_migration_report/#14sglang-nvcc","title":"\u5751 14\uff1aSGLang \u542f\u52a8\u65f6 nvcc \u7f16\u8bd1\u5931\u8d25","text":"\u9879\u76ee \u8be6\u60c5 \u73b0\u8c61 <code>sglang.launch_server</code> \u542f\u52a8\u65f6\u62a5 <code>fatal error: concepts: No such file or directory</code>\uff08C++20 \u5934\u6587\u4ef6\u7f3a\u5931\uff09 \u6839\u56e0 NVCC \u9ed8\u8ba4\u4f7f\u7528\u7cfb\u7edf g++\uff08\u7248\u672c\u8fc7\u65e7\uff0c\u4e0d\u652f\u6301 C++20\uff09\uff0c\u800c conda \u73af\u5883\u81ea\u5e26\u66f4\u65b0\u7684\u7f16\u8bd1\u5668 \u89e3\u51b3 \u811a\u672c\u81ea\u52a8\u68c0\u6d4b conda \u7f16\u8bd1\u5668\u8def\u5f84\uff0c\u8bbe\u7f6e <code>CC</code>/<code>CXX</code>/<code>CUDAHOSTCXX</code>/<code>NVCC_PREPEND_FLAGS=-ccbin</code> \u4ee3\u7801 <code>scripts/train.serve_sglang.local.sh</code> \u7b2c 15-34 \u884c"},{"location":"guides/ts_migration_report/#15","title":"\u5751 15\uff1a\u6839\u5206\u533a\u7a7a\u95f4\u4e0d\u8db3\u5bfc\u81f4\u6784\u5efa/\u7f16\u8bd1\u5931\u8d25","text":"\u9879\u76ee \u8be6\u60c5 \u73b0\u8c61 SGLang JIT \u7f16\u8bd1\u6216 TorchTune \u8bad\u7ec3\u65f6\u56e0\u78c1\u76d8\u7a7a\u95f4\u4e0d\u8db3\u5931\u8d25 \u6839\u56e0 \u9ed8\u8ba4\u7f13\u5b58\u76ee\u5f55 <code>~/.cache</code> \u548c\u4e34\u65f6\u76ee\u5f55 <code>/tmp</code> \u4f4d\u4e8e\u6839\u5206\u533a\uff0c\u800c\u6839\u5206\u533a\u7a7a\u95f4\u6709\u9650 \u89e3\u51b3 \u81ea\u52a8\u5c06 <code>XDG_CACHE_HOME</code>\u3001<code>TVM_FFI_CACHE_DIR</code>\u3001<code>TMPDIR</code> \u91cd\u5b9a\u5411\u5230\u6570\u636e\u5206\u533a\u7684 <code>.cache</code> \u548c <code>.tmp</code> \u76ee\u5f55 \u4ee3\u7801 <code>scripts/train.serve_sglang.local.sh</code> \u7b2c 36-51 \u884c"},{"location":"guides/ts_migration_report/#16torchtune-checkpoint-configjson","title":"\u5751 16\uff1aTorchTune checkpoint \u7f3a\u5c11 config.json","text":"\u9879\u76ee \u8be6\u60c5 \u73b0\u8c61 SGLang \u52a0\u8f7d TorchTune \u5fae\u8c03\u540e\u7684 checkpoint \u65f6\u62a5 <code>config.json not found</code> \u6839\u56e0 TorchTune \u5168\u91cf\u5fae\u8c03\u53ea\u8f93\u51fa\u6743\u91cd\u6587\u4ef6\uff0c\u4e0d\u590d\u5236 <code>config.json</code>\uff08\u6a21\u578b\u67b6\u6784\u5b9a\u4e49\u6587\u4ef6\uff09 \u89e3\u51b3 SGLang \u542f\u52a8\u811a\u672c\u81ea\u52a8\u4ece\u539f\u59cb tokenizer \u76ee\u5f55\u590d\u5236 <code>config.json</code> \u5230 checkpoint \u76ee\u5f55 \u4ee3\u7801 <code>scripts/train.serve_sglang.local.sh</code> \u7b2c 63-70 \u884c"},{"location":"guides/ts_migration_report/#_6","title":"\u4e94\u3001\u5173\u952e\u4ea7\u7269\u6e05\u5355","text":""},{"location":"guides/ts_migration_report/#_7","title":"\u65b0\u589e\u6587\u4ef6","text":"\u6587\u4ef6\u8def\u5f84 \u884c\u6570 \u7528\u9014 <code>swesmith/profiles/typescript.py</code> 457 TS Profile \u57fa\u7c7b + 7 \u4e2a\u4ed3\u5e93 Profile <code>swesmith/bug_gen/adapters/typescript.py</code> 271 TS AST \u89e3\u6790\u9002\u914d\u5668 <code>scripts/ts_standard_pipeline.py</code> 636 TS \u7aef\u5230\u7aef\u4efb\u52a1\u5b9e\u4f8b\u751f\u6210\u6d41\u6c34\u7ebf <code>scripts/auto_profile_ts.py</code> 369 \u81ea\u52a8 Profile \u751f\u6210\u5668 <code>agent/swesmith_gen_glm_ts.yaml</code> 89 TS \u8f68\u8ff9\u751f\u6210 Agent \u914d\u7f6e <code>agent/swesmith_infer_ts.yaml</code> 138 TS \u63a8\u7406\u8bc4\u6d4b Agent \u914d\u7f6e <code>configs/bug_gen/ts_modify.yml</code> 67 TS LLM Bug Modify \u914d\u7f6e <code>configs/bug_gen/ts_rewrite.yml</code> 40 TS LLM Bug Rewrite \u914d\u7f6e <code>configs/train/full_ft_qwen_7b_local.yml</code> 92 \u672c\u5730 7B \u5168\u91cf\u5fae\u8c03\u914d\u7f6e <code>scripts/train.prepare_sft_local.sh</code> 48 \u8f68\u8ff9\u8f6c SFT \u811a\u672c <code>scripts/train.run_ft_torchtune.local.sh</code> 74 \u672c\u5730 TorchTune \u8bad\u7ec3\u811a\u672c <code>scripts/train.serve_sglang.local.sh</code> 102 \u672c\u5730 SGLang \u670d\u52a1\u811a\u672c <code>swesmith/train/traj_mgr/validate_len_stats.py</code> 96 \u8bad\u7ec3\u6570\u636e\u957f\u5ea6\u6821\u9a8c <code>docs/guides/ts_pipeline_overview.md</code> 65 TS \u6d41\u6c34\u7ebf\u6982\u89c8 <code>docs/guides/ts_three_pipelines.md</code> 334 \u4e09\u6bb5\u5f0f\u64cd\u4f5c\u624b\u518c <code>WORKFLOW.md</code> 97 \u5feb\u901f\u53c2\u8003\u624b\u518c"},{"location":"guides/ts_migration_report/#_8","title":"\u91cd\u5199/\u4fee\u6539\u6587\u4ef6","text":"\u6587\u4ef6\u8def\u5f84 \u4fee\u6539\u5185\u5bb9 <code>agent/_gen_trajs.sh</code> \u65b0\u589e ~130 \u884c\u4ee3\u7406\u9884\u68c0 + SOCKS \u964d\u7ea7 + \u8f68\u8ff9\u540e\u68c0 <code>docs/guides/train_swe_agent.md</code> \u65b0\u589e\u672c\u5730\u8bad\u7ec3\u7ae0\u8282 3 \u4e2a <code>snake_case</code> \u517c\u5bb9\u5165\u53e3\u811a\u672c \u8f6c\u53d1\u5230\u65e7\u547d\u540d\u811a\u672c"},{"location":"guides/ts_migration_report/#_9","title":"\u516d\u3001\u6570\u636e\u7edf\u8ba1","text":"\u6307\u6807 \u6570\u503c \u65b0\u589e/\u4fee\u6539\u6587\u4ef6\u603b\u6570 30+ \u65b0\u589e\u4ee3\u7801\u884c\u6570 ~3,000+ \u8986\u76d6\u7684 TS \u4ed3\u5e93 7 \u4e2a\uff08\u624b\u5de5\uff09 + \u81ea\u52a8\u751f\u6210\u652f\u6301 \u89e3\u51b3\u7684\u5177\u4f53\u95ee\u9898 16 \u4e2a\uff08\u8bed\u8a00 5 + \u914d\u7f6e 3 + \u6027\u80fd 3 + \u90e8\u7f72 5\uff09 \u6587\u6863\u9875\u9762 4 \u4efd\uff08~830 \u884c\uff09 \u7aef\u5230\u7aef\u8986\u76d6\u6b65\u9aa4 \u73af\u5883\u6784\u5efa \u2192 Bug \u751f\u6210 \u2192 \u9a8c\u8bc1 \u2192 Issue \u2192 \u8f68\u8ff9 \u2192 SFT \u2192 \u8bad\u7ec3 \u2192 \u670d\u52a1 \u2192 \u8bc4\u6d4b"}]}